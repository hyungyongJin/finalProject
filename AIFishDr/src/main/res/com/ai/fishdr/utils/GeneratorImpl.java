package com.ai.fishdr.utils;

import java.io.File;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.sql.Clob;
import java.util.Arrays;
import java.util.List;
import java.util.Map;

import javax.tools.JavaCompiler;
import javax.tools.StandardJavaFileManager;
import javax.tools.StandardLocation;
import javax.tools.ToolProvider;

import org.jdom2.Document;
import org.jdom2.Element;
import org.jdom2.JDOMException;
import org.jdom2.input.SAXBuilder;
import org.jdom2.output.Format;
import org.jdom2.output.XMLOutputter;

import com.ai.fishdr.vo.BoardVO;


public class GeneratorImpl implements Generator {
	private final static String COMMON_PATH = "D:\\A_TeachingMaterial\\7.LastProject\\workspace\\AIFishDr\\src\\main\\";
	private final static String JAVA_CLASS_PATH = COMMON_PATH
			+ "java\\com\\ai\\fishdr\\user\\controller\\";
	private final static String JAVA_SERVICE_PATH = COMMON_PATH
			+ "java\\com\\ai\\fishdr\\user\\service\\";
	private final static String JAVA_DAO_PATH = COMMON_PATH
			+ "java\\com\\ai\\fishdr\\user\\dao\\";
	private final static String JSP_PATH = COMMON_PATH
			+ "webapp\\WEB-INF\\views\\user\\";
	private final static String XML_PATH = COMMON_PATH
			+ "resources\\com\\ai\\fishdr\\ibatis\\config\\SqlMapConfig.xml";
	private final static String MAPPER_PATH = COMMON_PATH
			+ "resources\\com\\ai\\fishdr\\ibatis\\mapper\\";

	@Override
	public void controllerMaker(String boardName) throws Exception {
		String className = boardName.substring(0, 1).toUpperCase()
				+ boardName.substring(1);
		File createFolder = new File(JAVA_CLASS_PATH+boardName);
		createFolder.mkdir();//폴더생성
		
		File sourceFile = new File(JAVA_CLASS_PATH +"\\"+boardName+"\\"+ className + "Controller.java");
		FileWriter writer = new FileWriter(sourceFile);
		writer.write(
				"package com.ai.fishdr.user.controller."+boardName+";                              \n"
                +"                                                                              \n"
				+"import java.io.File;                                                          \n"
				+"import java.sql.Clob; \n"
				+"import java.net.URLEncoder;                                                   \n"
				+"import java.util.List;                                                        \n"
				+"import java.util.Map;                                                         \n"
                +"                                                                              \n"
				+"import javax.servlet.http.HttpServletRequest;                                 \n"
				+"import javax.servlet.http.HttpSession;                                        \n"
                +"                                                                              \n"
				+"import org.springframework.beans.factory.annotation.Autowired;                \n"
				+"import org.springframework.stereotype.Controller;                             \n"
				+"import org.springframework.ui.Model;                                          \n"
				+"import org.springframework.web.bind.annotation.RequestMapping;                \n"
				+"import org.springframework.web.bind.annotation.RequestParam;                  \n"
				+"import org.springframework.web.multipart.MultipartFile;                       \n"
				+"import org.springframework.web.servlet.ModelAndView;                          \n"
                +"                                                                              \n"
				+"import com.ai.fishdr.admin.serivce.board.IBoardService;                       \n"
				+"import com.ai.fishdr.admin.serivce.boardFile.IBoardFileService;               \n"
				+"import com.ai.fishdr.admin.serivce.boardcomment.IBoardCommentService;         \n"
				+"import com.ai.fishdr.user.service."+boardName+".I"+className+"Service;                \n"
				+"import com.ai.fishdr.utils.AttachFileMapper;                                  \n"
				+"import com.ai.fishdr.utils.ClobToString;\n"
				+"import com.ai.fishdr.utils.RoleCommentPagingUtil;                             \n"
				+"import com.ai.fishdr.utils.RolePagingUtil;                                    \n"
				+"import com.ai.fishdr.vo.BoardCommentVO;                                       \n"
				+"import com.ai.fishdr.vo.BoardFileVO;                                          \n"
				+"import com.ai.fishdr.vo.BoardManageVO;                                        \n"
				+"import com.ai.fishdr.vo.BoardVO;                                              \n"
				+"import com.ai.fishdr.vo.MemberVO;                                             \n"
				+"import com.ai.fishdr.vo.SttemntVO;                                            \n"
                +"                                                                              \n"
				+"/**                                                                           \n"
				+" *                                                                            \n"
				+" * @Class Name :"+className+"Controller.java                                      \n"
				+" * @Description : 게시판 컨트롤러                                             \n"
				+" * @Modification Information                                                  \n"
				+" * @author 진형용                                                             \n"
				+" * @since  2018. 11. 15.                                                      \n"
				+" * @version 1.0                                                               \n"
				+" * @see                                                                       \n"
				+" * <pre>                                                                      \n"
				+" * << 개정이력(Modification Information) >>                                   \n"
				+" *    수정일             수정자             수정내용                          \n"
				+" *    -------        -------     -------------------                          \n"
				+" *    2018. 11. 15.     진형용             최초작성                           \n"
				+" *    ------------------------------------------------                        \n"
				+" * Copyright (c) 2018 AI Fish Dr.  All right reserved                         \n"
				+" * </pre>                                                                     \n"
				+" */                                                                           \n"
				+"@Controller                                                                   \n"
				+"@RequestMapping(\"/user/"+boardName+"/\")                                         \n"
				+"public class "+className+"Controller {                                            \n"
				+"	@Autowired                                                                  \n"
				+"	private I"+className+"Service service;                                          \n"
				+"	@Autowired                                                                  \n"
				+"	private IBoardCommentService commentService;                                \n"
				+"	@Autowired                                                                  \n"
				+"	private IBoardFileService fileService;                                      \n"
				+"	@Autowired                                                                  \n"
				+"	private IBoardService boardService;                                         \n"
				+"	/**                                                                         \n"
				+"	 * 게시판 글 상세보기                                                       \n"
				+"	 *  개요 :                                                                  \n"
				+"	 * @Method Name : "+boardName+"View                                             \n"
				+"	 * @author : 진형용                                                         \n"
				+"	 * -----------------------------------                                      \n"
				+"	 * @param :                                                                 \n"
				+"	 * @return : ModelAndView                                                   \n"
				+"	 * @throws Exception                                                        \n"
				+"	 * @throws :                                                                \n"
				+"	 */                                                                         \n"
				+"	@RequestMapping(\""+boardName+"View\")                                          \n"
				+"	public ModelAndView "+boardName+"View(String commentPage, Map<String,String> params,ModelAndView model,String bo_no, String currentPage, \n"
				+"			String search,String keyword ,HttpServletRequest request, HttpSession session) throws Exception{                             \n"
				+"		params.put(\"bo_no\", bo_no);                                                                                                    \n"
				+"		service.updateHit(params);                                                                                                       \n"
				+"		if (commentPage==null) {                                                                                                         \n"
				+"			commentPage=\"1\";                                                                                                           \n"
				+"		}                                                                                                                                \n"
				+"		int totalCount = commentService.getTotalCount(bo_no);                                                                            \n"
				+"		if (keyword!=null) {                                                                                                             \n"
				+"			keyword = URLEncoder.encode(keyword, \"UTF-8\");                                                                             \n"
				+"		}                                                                                                                                \n"
				+"		model.addObject(\"keyword\", keyword);                                                                                           \n"
				+"		RoleCommentPagingUtil page= new RoleCommentPagingUtil(Integer.parseInt(commentPage), totalCount, request, bo_no,currentPage,keyword,search); \n"
				+"		params.put(\"endCount\", String.valueOf(page.getEndCount()));                                                                                \n"
				+"		params.put(\"startCount\", String.valueOf(page.getStartCount()));                                                                            \n"
				+"		List<Map<String, Object>> viewInfo =  service.boardInfo(params);                                                                             \n"
				+"		model.addObject(\"currentPage\", currentPage);                                                                                               \n"
				+"		model.addObject(\"search\", search);                                                                                                         \n"
				+"		model.addObject(\"commentPage\", commentPage);                                                                                               \n"
				+"		model.addObject(\"paging\",page.getPagingHtmls());                                                                                           \n"
				+"		model.addObject(\"viewInfo\",viewInfo);                                                                                                      \n"
				+"		String mem_id =((MemberVO)session.getAttribute(\"LOGIN_MEMBER\")).getMem_id();                                                               \n"
				+"		params.put(\"mem_id\", mem_id);                                                                                                              \n"
				+"		boolean result  = service.getBlack(params);                                                                                                  \n"
				+"		model.addObject(\"checkBlack\",result);                                                                                                      \n"
				+"      Clob content = (Clob) viewInfo.get(0).get(\"BO_CONTENT\");   \n"
				+"      String viewContent = ClobToString.convertClobToString(content);\n"
				+"      if (content!=null) {   \n"
				+"			model.addObject(\"content\",viewContent); \n"
				+"		}\n"
				+"		return model;                                                                                                                                \n"
				+"		                                                                                                                                             \n"
				+"	}                                                                                                                                                \n"
				+"	/**                                                                                                                                              \n"
				+"	 *                                                                                                                                               \n"
				+"	 *  개요 : 글쓰기 폼이동                                                                                                                         \n"
				+"	 * @Method Name : "+boardName+"Form                                                                                                                  \n"
				+"	 * @author : 진형용                                                                                                                              \n"
				+"	 * -----------------------------------                                                                                                           \n"
				+"	 * @param :                                                                                                                                      \n"
				+"	 * @return : void                                                                                                                                \n"
				+"	 * @throws Exception                                                                                                                             \n"
				+"	 * @throws :                                                                                                                                     \n"
				+"	 */                                                                                                                                              \n"
				+"	@RequestMapping(\""+boardName+"Form\")                                                                                                               \n"
				+"	public void "+boardName+"Form(Model model,Map<String,String>params,String board_code) throws Exception{                  \n"
				+"		params.put(\"board_code\", board_code);                                                                          \n"
				+"		BoardManageVO vo = boardService.getBoardInfo(params);                                                            \n"
				+"		model.addAttribute(\"boardInfo\",vo);                                                                            \n"
				+"	}                                                                                                                    \n"
				+"	/**                                                                                                                  \n"
				+"	 *                                                                                                                   \n"
				+"	 *  개요 : 게시판 글 리스트                                                                                          \n"
				+"	 * @Method Name : "+boardName+"List                                                                                      \n"
				+"	 * @author : 진형용                                                                                                  \n"
				+"	 * -----------------------------------                                                                               \n"
				+"	 * @param :                                                                                                          \n"
				+"	 * @return : void                                                                                                    \n"
				+"	 * @throws Exception                                                                                                 \n"
				+"	 * @throws :                                                                                                         \n"
				+"	 */                                                                                                                  \n"
				+"	@RequestMapping(\""+boardName+"List\")                                                                                   \n"
				+"	public ModelAndView "+boardName+"List(ModelAndView model , HttpServletRequest request,                                   \n"
				+"			 String bo_no,Map<String,String>params,String search, String keyword,String currentPage) throws Exception{   \n"
				+"		if (currentPage==null||currentPage==\"\") {                                                                                         \n"
				+"			currentPage=\"1\";                                                                                           \n"
				+"		}                                                                                                                \n"
				+"		params.put(\"search\", search);                                                                                  \n"
				+"		params.put(\"keyword\", keyword);                                                                                \n"
				+"		int totalCount= service.getTotalCount(params);                                                                   \n"
				+"		RolePagingUtil page= new RolePagingUtil(Integer.parseInt(currentPage), totalCount, request);                     \n"
				+"		params.put(\"endCount\", String.valueOf(page.getEndCount()));                                                    \n"
				+"		params.put(\"startCount\", String.valueOf(page.getStartCount()));                                                \n"
				+"		                                                                                                                 \n"
				+"		List<Map<String,BoardVO>> writeList =  service.getBoardList(params);                                             \n"
				+"		model.addObject(\"currentPage\", currentPage);                                                                   \n"
				+"		model.addObject(\"search\", search);                                                                             \n"
				+"		if (keyword!=null) {                                                                                             \n"
				+"			keyword = URLEncoder.encode(keyword, \"UTF-8\");                                                             \n"
				+"		}                                                                                                                \n"
				+"		model.addObject(\"keyword\", keyword);                                                                           \n"
				+"		List<Map<String,BoardVO>> noticeList = service.getAdminWriteList();                                                                                                                 \n"
				+"		model.addObject(\"noticeList\", noticeList);                                                                                                                 \n"
				+"		model.addObject(\"paging\",page.getPagingHtmls());                                                               \n"
				+"		model.addObject(\"writeList\",writeList);                                                                        \n"
				+"		return model;                                                                                                    \n"
				+"	}                                                                                                                    \n"
				+"	/**                                                                                                                  \n"
				+"	 *                                                                                                                   \n"
				+"	 *  개요 : 글등록                                                                                                    \n"
				+"	 * @Method Name : insertBoard                                                                                        \n"
				+"	 * @author : 진형용                                                                                                  \n"
				+"	 * -----------------------------------                                                                               \n"
				+"	 * @param :                                                                                                          \n"
				+"	 * @return : ModelAndView                                                                                            \n"
				+"	 * @throws :                                                                                                         \n"
				+"	 */                                                                                                                  \n"
				+"	@RequestMapping(\"insert"+boardName+"\")                                                                                 \n"
				+"	public ModelAndView insertBoard(ModelAndView model, BoardVO vo, @RequestParam(\"files\") MultipartFile[] files ) throws Exception{\n"
				+"		service.insertBoard(vo,files);                                                                                                \n"
				+"		model.setViewName(\"redirect:/user/"+boardName+"/"+boardName+"List.do\");                                                             \n"
				+"		return model;                                                                                                                 \n"
				+"	}                                                                                                                                 \n"
				+"	/**                                                                                                                               \n"
				+"	 *                                                                                                                                \n"
				+"	 *  개요 : 댓글등록                                                                                                               \n"
				+"	 * @Method Name : insertComment                                                                                                   \n"
				+"	 * @author : 진형용                                                                                                               \n"
				+"	 * -----------------------------------                                                                                            \n"
				+"	 * @param :                                                                                                                       \n"
				+"	 * @return : ModelAndView                                                                                                         \n"
				+"	 * @throws :                                                                                                                      \n"
				+"	 */                                                                                                                               \n"
				+"	@RequestMapping(\"insertComment\")                                                                                                \n"
				+"	public ModelAndView insertComment(String commentPage, String currentPage,String keyword,String search, ModelAndView model, BoardCommentVO vo) throws Exception{        \n"
				+"		commentService.insertBoardComment(vo);                                                                                                                             \n"
				+"		if (keyword!=null) {                                                                                                                                               \n"
				+"			keyword = URLEncoder.encode(keyword, \"UTF-8\");                                                                                                               \n"
				+"		}                                                                                                                                                                  \n"
				+"		model.setViewName(\"redirect:/user/"+boardName+"/"+boardName+"View.do?commentPage=\"+commentPage+\"&bo_no=\"+vo.getBo_no()+\"&currentPage=\"+currentPage+\"&search=\"+search+\"&keyword=\"+keyword);\n"
				+"		return model;                                                                                                                   \n"
				+"		                                                                                                                                \n"
				+"	}                                                                                                                                   \n"
				+"	/**                                                                                                                                 \n"
				+"	 *                                                                                                                                  \n"
				+"	 *  개요 : 글삭제                                                                                                                   \n"
				+"	 * @Method Name : deletebBoard                                                                                                      \n"
				+"	 * @author : 진형용                                                                                                                 \n"
				+"	 * -----------------------------------                                                                                              \n"
				+"	 * @param :                                                                                                                         \n"
				+"	 * @return : ModelAndView                                                                                                           \n"
				+"	 * @throws :                                                                                                                        \n"
				+"	 */                                                                                                                                 \n"
				+"	@RequestMapping(\"delete"+boardName+"\")                                                                                                \n"
				+"	public ModelAndView deletebBoard(ModelAndView model, String bo_no, Map<String,String>params) throws Exception{                      \n"
				+"		params.put(\"bo_no\", bo_no);                                                                                                   \n"
				+"		boolean result = service.deleteBoard(params);                                                                                   \n"
				+"		                                                                                                                                \n"
				+"		String message=\"\";                                                                                                            \n"
				+"		if (result) {                                                                                                                   \n"
				+"			message = URLEncoder.encode(\"삭제 완료 되었습니다.\", \"UTF-8\");                                                          \n"
				+"			model.setViewName(\"redirect:/user/"+boardName+"/"+boardName+"List.do?message=\"+message);                                          \n"
				+"		}else{                                                                                                                          \n"
				+"			model.setViewName(\"redirect:/user/"+boardName+"/"+boardName+"List.do\");                                                           \n"
				+"		}                                                                                                                               \n"
				+"		return model;                                                                                                                   \n"
				+"		                                                                                                                                \n"
				+"	}                                                                                                                                   \n"
				+"	/**                                                                                                                                 \n"
				+"	 *                                                                                                                                  \n"
				+"	 *  개요 :파일 다운로드                                                                                                             \n"
				+"	 * @Method Name : fileDownlaod                                                                                                      \n"
				+"	 * @author : 진형용                                                                                                                 \n"
				+"	 * -----------------------------------                                                                                              \n"
				+"	 * @param :                                                                                                                         \n"
				+"	 * @return : ModelAndView                                                                                                           \n"
				+"	 * @throws :                                                                                                                        \n"
				+"	 */                                                                                                                                 \n"
				+"	@RequestMapping(\"fileDownload\")                                                                                                   \n"
				+"	public ModelAndView fileDownlaod(String file_no , ModelAndView andView,Map<String,String>params) throws Exception{                  \n"
				+"		params.put(\"file_no\", file_no);                                                                                               \n"
				+"		BoardFileVO file = fileService.getFileInfo(params);                                                                             \n"
				+"		String fileName = file.getFile_save_name();                                                                                     \n"
				+"      String originalName = file.getFile_name();           \n"
				+"		File targetFile = new File(AttachFileMapper.FILE_PATH, fileName);                                                               \n"
				+"		andView.addObject(\"downloadFile\", targetFile);                                                                                \n"
				+"		andView.addObject(\"downloadFileName\", fileName);                                                                              \n"
				+"		andView.addObject(\"originalName\", originalName);                                                                              \n"
				+"		andView.setViewName(\"downloadView\");                                                                                          \n"
				+"		                                                                                                                                \n"
				+"		return andView;                                                                                                                 \n"
				+"	}                                                                                                                                   \n"
				+"	/**                                                                                                                                 \n"
				+"	 *                                                                                                                                  \n"
				+"	 *  개요 : 쪽지보내기 화면이동                                                                                                      \n"
				+"	 * @Method Name : string                                                                                                            \n"
				+"	 * @author : Jin                                                                                                                    \n"
				+"	 * -----------------------------------                                                                                              \n"
				+"	 * @param :                                                                                                                         \n"
				+"	 * @return : String                                                                                                                 \n"
				+"	 * @throws :                                                                                                                        \n"
				+"	 */                                                                                                                                 \n"
				+"	@RequestMapping(\"messageModal\")                                                                                                   \n"
				+"	public String message(String id,Model model){model.addAttribute(\"id\",id); return \"/commonModal/boardMessageModal\";}             \n"
				+"	/**                                                                                                                                 \n"
				+"	 *                                                                                                                                  \n"
				+"	 *  개요 : 채팅화면 화면이동                                                                                                        \n"
				+"	 * @Method Name : string                                                                                                            \n"
				+"	 * @author : Jin                                                                                                                    \n"
				+"	 * -----------------------------------                                                                                              \n"
				+"	 * @param :                                                                                                                         \n"
				+"	 * @return : String                                                                                                                 \n"
				+"	 * @throws :                                                                                                                        \n"
				+"	 */                                                                                                                                 \n"
				+"	@RequestMapping(\"chatModal\")                                                                                                      \n"
				+"	public String chat(String id,Model model){model.addAttribute(\"id\",id); return \"/commonModal/chatMessageModal\";}                 \n"
				+"	/**                                                                                                                                 \n"
				+"	 *                                                                                                                                  \n"
				+"	 *  개요 : 댓글삭제                                                                                                                 \n"
				+"	 * @Method Name : deleteComment                                                                                                     \n"
				+"	 * @author : Jin                                                                                                                    \n"
				+"	 * -----------------------------------                                                                                              \n"
				+"	 * @param :                                                                                                                         \n"
				+"	 * @return : ModelAndView                                                                                                           \n"
				+"	 * @throws :                                                                                                                        \n"
				+"	 */                                                                                                                                 \n"
				+"	@RequestMapping(\"delComment\")                                                                                                     \n"
				+"	public ModelAndView deleteComment(ModelAndView model, Map<String,String>params, String comment_no) throws Exception{                \n"
				+"		params.put(\"comment_no\", comment_no);                                                                                         \n"
				+"		boolean result = commentService.deleteBoardComment(params);                                                                     \n"
				+"		model.addObject(\"result\",result);                                                                                             \n"
				+"		model.setViewName(\"jsonConvertView\");                                                                                         \n"
				+"		return model;                                                                                                                   \n"
				+"	}                                                                                                                                   \n"
				+"	/**                                                                                                                                 \n"
				+"	 *  개요 : 게시판 수정                                                                                                              \n"
				+"	 * @Method Name : updateBoard                                                                                                       \n"
				+"	 * @author : Jin                                                                                                                    \n"
				+"	 * -----------------------------------                                                                                              \n"
				+"	 * @param :                                                                                                                         \n"
				+"	 * @return : ModelAndView                                                                                                           \n"
				+"	 * @throws Exception                                                                                                                \n"
				+"	 * @throws :                                                                                                                        \n"
				+"	 */                                                                                                                                 \n"
				+"	@RequestMapping(\"updateBoard\")                                                                                                    \n"
				+"	public ModelAndView updateBoard(ModelAndView model,BoardVO vo,@RequestParam(\"files\") MultipartFile[] files, String file_no) throws Exception{  \n"
				+"		service.updateBoard(vo, files);                                                                                                              \n"
				+"		model.setViewName(\"jsonConvertView\");                                                                                                      \n"
				+"		return model;                                                                                                                                \n"
				+"	}                                                                                                                                                \n"
				+"	/**                                                                                                                                              \n"
				+"	 *                                                                                                                                               \n"
				+"	 *  개요 : 파일 삭제                                                                                                                             \n"
				+"	 * @Method Name : deleteFile                                                                                                                     \n"
				+"	 * @author : Jin                                                                                                                                 \n"
				+"	 * -----------------------------------                                                                                                           \n"
				+"	 * @param :                                                                                                                                      \n"
				+"	 * @return : ModelAndView                                                                                                                        \n"
				+"	 * @throws :                                                                                                                                     \n"
				+"	 */                                                                                                                                              \n"
				+"	@RequestMapping(\"deleteFile\")                                                                                                                  \n"
				+"	public ModelAndView deleteFile(ModelAndView model,String file_no,Map<String,String>params) throws Exception{                                     \n"
				+"		params.put(\"file_no\", file_no);                                                                                                            \n"
				+"		fileService.deleteBoardFile(params);                                                                                                         \n"
				+"		model.setViewName(\"jsonConvertView\");                                                                                                      \n"
				+"		return model;                                                                                                                                \n"
				+"	}                                                                                                                                                \n"
				+"	/**                                                                                                                                              \n"
				+"	 *  개요 : 댓글 수정                                                                                                                             \n"
				+"	 * @Method Name : updateComment                                                                                                                  \n"
				+"	 * @author : Jin                                                                                                                                 \n"
				+"	 * -----------------------------------                                                                                                           \n"
				+"	 * @param :                                                                                                                                      \n"
				+"	 * @return : ModelAndView                                                                                                                        \n"
				+"	 * @throws :                                                                                                                                     \n"
				+"	 */                                                                                                                                              \n"
				+"	@RequestMapping(\"updateComment\")                                                                                                               \n"
				+"	public ModelAndView updateComment(ModelAndView model, BoardCommentVO vo) throws Exception{                                                       \n"
				+"		commentService.updateBoardComment(vo);                                                                                                       \n"
				+"		model.setViewName(\"jsonConvertView\");                                                                                                      \n"
				+"		return model;                                                                                                                                \n"
				+"	}                                                                                                                                                \n"
				+"	/**                                                                                                       \n"
				+"	 *  개요 : 좋아요 기능                                                                                    \n"
				+"	 * @Method Name : boardrecommend                                                                          \n"
				+"	 * @author : 진형용                                                                                       \n"
				+"	 * -----------------------------------                                                                    \n"
				+"	 * @param :                                                                                               \n"
				+"	 * @return : ModelAndView                                                                                 \n"
				+"	 * @throws :                                                                                              \n"
				+"	 */                                                                                                       \n"
				+"	@RequestMapping(\"boardrecommend\")                                                                       \n"
				+"	public ModelAndView boardrecommend(String bo_no, ModelAndView model) throws Exception{                    \n"
				+"		service.updateGoodHit(bo_no);                                                                         \n"
				+"		model.setViewName(\"jsonConvertView\");                                                               \n"
				+"		return model;                                                                                         \n"
				+"	}                                                                                                         \n"
				+"	/**                                                                                                       \n"
				+"	 *  개요 : 게시글 신고                                                                                    \n"
				+"	 * @Method Name : boardblack                                                                              \n"
				+"	 * @author : 진형용                                                                                       \n"
				+"	 * -----------------------------------                                                                    \n"
				+"	 * @param :                                                                                               \n"
				+"	 * @return : ModelAndView                                                                                 \n"
				+"	 * @throws Exception                                                                                      \n"
				+"	 * @throws :                                                                                              \n"
				+"	 */                                                                                                       \n"
				+"	@RequestMapping(\"boardblack\")                                                                           \n"
				+"	public ModelAndView boardblack(ModelAndView model, SttemntVO vo) throws Exception{                        \n"
				+"		service.insertBadHit(vo);                                                                             \n"
				+"		model.setViewName(\"jsonConvertView\");                                                               \n"
				+"		return model;                                                                                         \n"
				+"	}                                                                                                         \n"
				+"	                                                                                                          \n"
				+"}");
		writer.flush();
		writer.close();
		JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
		StandardJavaFileManager fileManager = compiler.getStandardFileManager(
				null, null, null);

		fileManager.setLocation(StandardLocation.CLASS_OUTPUT,
				Arrays.asList(new File(JAVA_CLASS_PATH)));
		compiler.getTask(
				null,
				fileManager,
				null,
				null,
				null,
				fileManager.getJavaFileObjectsFromFiles(Arrays
						.asList(sourceFile))).call();
		fileManager.flush(); 
		fileManager.close();
	}
	@Override
	public void serviceMaker(String boardName) throws Exception {
		String className = boardName.substring(0, 1).toUpperCase()
				+ boardName.substring(1);
		File createFolder = new File(JAVA_SERVICE_PATH+boardName);
		createFolder.mkdir();//폴더생성
		
		File sourceFile = new File(JAVA_SERVICE_PATH +"\\"+boardName+"\\I"+ className + "Service.java");
		FileWriter writer = new FileWriter(sourceFile);

		writer.write(
				"package com.ai.fishdr.user.service."+boardName+";                          \n"
                +"                                                                      \n"
				+"import java.util.List;                                                \n"
				+"import java.util.Map;                                                 \n"
                +"                                                                      \n"
				+"import org.springframework.web.multipart.MultipartFile;               \n"
                +"                                                                      \n"
				+"import com.ai.fishdr.vo.BoardVO;                                      \n"
				+"import com.ai.fishdr.vo.SttemntVO;                                    \n"
				+"/**                                                                   \n"
				+" *                                                                    \n"
				+" * @Class Name :I"+className+"Service.java                                \n"
				+" * @Description : 게시판 관련 service                                 \n"
				+" * @Modification Information                                          \n"
				+" * @author 진형용                                                     \n"
				+" * @since  2018. 11. 15.                                              \n"
				+" * @version 1.0                                                       \n"
				+" * @see                                                               \n"
				+" * <pre>                                                              \n"
				+" * << 개정이력(Modification Information) >>                           \n"
				+" *    수정일             수정자             수정내용                  \n"
				+" *    -------        -------     -------------------                  \n"
				+" *    2018. 11. 15.     진형용             최초작성                   \n"
				+" *    ------------------------------------------------                \n"
				+" * Copyright (c) 2018 AI Fish Dr.  All right reserved                 \n"
				+" * </pre>                                                             \n"
				+" */                                                                   \n"
				+"public interface I"+className+"Service {                                  \n"
				+"	/**                                                                 \n"
				+"	 *                                                                  \n"
				+"	 *  개요 : 게시글 등록                                              \n"
				+"	 * @Method Name : insertBoard                                       \n"
				+"	 * @author : 진형용                                                 \n"
				+"	 * -----------------------------------                              \n"
				+"	 * @param files                                                     \n"
				+"	 * @param :                                                         \n"
				+"	 * @return : String                                                 \n"
				+"	 * @throws :                                                        \n"
				+"	 */                                                                 \n"
				+"	public String insertBoard(BoardVO vo, MultipartFile[] files) throws Exception;  \n"
				+"	/**                                                                             \n"
				+"	 *                                                                              \n"
				+"	 *  개요 : 글 수정                                                              \n"
				+"	 * @Method Name : updateBoard                                                   \n"
				+"	 * @author : 진형용                                                             \n"
				+"	 * -----------------------------------                                          \n"
				+"	 * @param files                                                                 \n"
				+"	 * @param :                                                                     \n"
				+"	 * @return : int                                                                \n"
				+"	 * @throws :                                                                    \n"
				+"	 */                                                                             \n"
				+"	public boolean updateBoard(BoardVO vo, MultipartFile[] files)throws Exception;  \n"
				+"	                                                                                \n"
				+"	/**                                                                             \n"
				+"	 *                                                                              \n"
				+"	 *  개요 : 글 삭제                                                              \n"
				+"	 * @Method Name : deleteBoard                                                   \n"
				+"	 * @author : 진형용                                                             \n"
				+"	 * -----------------------------------                                          \n"
				+"	 * @param :                                                                     \n"
				+"	 * @return : int                                                                \n"
				+"	 * @throws :                                                                    \n"
				+"	 */                                                                             \n"
				+"	public boolean deleteBoard(Map<String,String>params) throws Exception;          \n"
				+"	                                                                                \n"
				+"	/**                                                                             \n"
				+"	 *                                                                              \n"
				+"	 *  개요 : 글 리스트                                                            \n"
				+"	 * @Method Name : getBoardList                                                  \n"
				+"	 * @author : 진형용                                                             \n"
				+"	 * -----------------------------------                                          \n"
				+"	 * @param :                                                                     \n"
				+"	 * @return : List<Map<String,BoardVO>>                                          \n"
				+"	 * @throws :                                                                    \n"
				+"	 */                                                                             \n"
				+"	public List<Map<String,BoardVO>> getBoardList(Map<String,String>params)throws Exception; \n"
				+"	                                                                                         \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 글 상세정보                                                                   \n"
				+"	 * @Method Name : boardInfo                                                              \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : List<Map<String,Object>>                                                    \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public List<Map<String, Object>> boardInfo(Map<String,String>params) throws Exception;   \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 게시글 갯수                                                                   \n"
				+"	 * @Method Name : getTotalCount                                                          \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : int                                                                         \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public int getTotalCount(Map<String,String>params) throws Exception;                     \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 조회수                                                                        \n"
				+"	 * @Method Name : updateHit                                                              \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : void                                                                        \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public void updateHit(Map<String, String> params)throws Exception;                       \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 좋아요                                                                        \n"
				+"	 * @Method Name : updateGoodHit                                                          \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : boolean                                                                     \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public boolean updateGoodHit(String bo_no)throws Exception;                              \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 신고                                                                          \n"
				+"	 * @Method Name : updateBadHit                                                           \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : boolean                                                                     \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public boolean insertBadHit(SttemntVO vo)throws Exception;                               \n"
				+"	/**                                                                                      \n"
				+"	 *  개요 : 로그인한사람이 게시글 신고했는지 체크 메서드                                  \n"
				+"	 * @Method Name : getBlack                                                               \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : boolean                                                                     \n"
				+"	 * @throws :                                                                             \n"
				+"	 */\n"
				+"	public boolean getBlack(Map<String, String> params) throws Exception;  \n"
				+"	/**                                                                 \n"
				+"	 *  개요 : 공지사항만 불러오는 리스트                                   \n"
				+"	 * @Method Name : getAdminWriteList                                     \n"
				+"	 * @author : 진형용                                                     \n"
				+"	 * -----------------------------------                                  \n"
				+"	 * @param :                                                             \n"
				+"	 * @return : List<Map<String,BoardVO>>                                  \n"
				+"	 * @throws :                                                            \n"
				+"	 */                                                                     \n"
				+"	public List<Map<String, BoardVO>> getAdminWriteList() throws Exception; \n"                                                                      
				+"	                                                                       \n"
				+"}                                                                        ");                                                                       
		writer.flush();
		writer.close();
		JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
		StandardJavaFileManager fileManager = compiler.getStandardFileManager(
				null, null, null);

		fileManager.setLocation(StandardLocation.CLASS_OUTPUT,
				Arrays.asList(new File(JAVA_SERVICE_PATH)));
		compiler.getTask(
				null,
				fileManager,
				null,
				null,
				null,
				fileManager.getJavaFileObjectsFromFiles(Arrays
						.asList(sourceFile))).call();
		fileManager.flush();
		fileManager.close();
		////////////////////////service생성
		File createFolder1 = new File(JAVA_SERVICE_PATH+boardName);
		createFolder1.mkdir();//폴더생성
		
		File sourceFile1 = new File(JAVA_SERVICE_PATH +"\\"+boardName+"\\I"+ className + "ServiceImpl.java");
		FileWriter writer1 = new FileWriter(sourceFile1);
		writer1.write(
				 "package com.ai.fishdr.user.service."+boardName+";                                                          \n"
                +"                                                                                                       \n"
				+"import java.util.ArrayList;                                                                            \n"
				+"import java.util.HashMap;                                                                              \n"
				+"import java.util.List;                                                                                 \n"
				+"import java.util.Map;                                                                                  \n"
                +"                                                                                                       \n"
				+"import org.springframework.beans.factory.annotation.Autowired;                                         \n"
				+"import org.springframework.stereotype.Service;                                                         \n"
				+"import org.springframework.transaction.annotation.Propagation;                                         \n"
				+"import org.springframework.transaction.annotation.Transactional;                                       \n"
				+"import org.springframework.web.multipart.MultipartFile;                                                \n"
                +"                                                                                                       \n"
				+"import com.ai.fishdr.admin.serivce.boardFile.IBoardFileService;                                        \n"
				+"import com.ai.fishdr.admin.serivce.boardcomment.IBoardCommentService;                                  \n"
				+"import com.ai.fishdr.user.dao."+boardName+".I"+className+"Dao;                                                 \n"
				+"import com.ai.fishdr.utils.AttachFileMapper;                                                           \n"
				+"import com.ai.fishdr.vo.BoardCommentVO;                                                                \n"
				+"import com.ai.fishdr.vo.BoardFileVO;                                                                   \n"
				+"import com.ai.fishdr.vo.BoardVO;                                                                       \n"
				+"import com.ai.fishdr.vo.SttemntVO;                                                                     \n"
                +"                                                                                                       \n"
				+"@Service                                                                                               \n"
				+"public class I"+className+"ServiceImpl implements I"+className+"Service {                                      \n"
				+"	@Autowired                                                                                           \n"
				+"	private I"+className+"Dao dao;                                                                           \n"
				+"	@Autowired                                                                                           \n"
				+"	private IBoardFileService fileService;                                                               \n"
				+"	@Autowired                                                                                           \n"
				+"	private IBoardCommentService commentService;                                                         \n"
				+"	@Autowired                                                                                           \n"
				+"	private AttachFileMapper mapper;                                                                     \n"
				+"	                                                                                                     \n"
				+"	@Transactional(propagation=Propagation.REQUIRES_NEW)                                                 \n"
				+"	@Override                                                                                            \n"
				+"	public String insertBoard(BoardVO vo, MultipartFile[] files) throws Exception {                      \n"
				+"		String bo_no = dao.insertBoard(vo);                                                              \n"
				+"		List<BoardFileVO> fileList =  mapper.mapping(files, bo_no);                                      \n"
				+"		if (fileList.size()!=0) {                                                                        \n"
				+"			fileService.insertBoardFiles(fileList);                                                      \n"
				+"		}                                                                                                \n"
				+"		return bo_no;                                                                                    \n"
				+"		                                                                                                 \n"
				+"		                                                                                                 \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(propagation=Propagation.REQUIRES_NEW)                                                 \n"
				+"	@Override                                                                                            \n"
				+"	public boolean updateBoard(BoardVO vo, MultipartFile[] files) throws Exception {                     \n"
				+"		boolean result = false;                                                                          \n"
				+"		List<BoardFileVO> fileList =  mapper.mapping(files, vo.getBo_no());                              \n"
				+"		if (fileList.size()!=0) {                                                                        \n"
				+"			fileService.insertBoardFiles(fileList);                                                      \n"
				+"		}                                                                                                \n"
				+"		int cnt = dao.updateBoard(vo);                                                                   \n"
				+"		if (cnt>0) {                                                                                     \n"
				+"			result = true;                                                                               \n"
				+"		}                                                                                                \n"
				+"		return result;                                                                                   \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(propagation=Propagation.REQUIRES_NEW)                                                 \n"
				+"	@Override                                                                                            \n"
				+"	public boolean deleteBoard(Map<String, String> params) throws Exception {                            \n"
				+"		boolean result = false;                                                                          \n"
				+"		int cnt = dao.deleteBoard(params);                                                               \n"
				+"		if (cnt>0) {                                                                                     \n"
				+"			result = true;                                                                               \n"
				+"		}                                                                                                \n"
				+"		return result;                                                                                   \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(readOnly=true)                                                                        \n"
				+"	@Override                                                                                            \n"
				+"	public List<Map<String, BoardVO>> getBoardList(Map<String, String> params)                           \n"
				+"			throws Exception {                                                                           \n"
				+"		return dao.getBoardList(params);                                                                 \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(readOnly=true)                                                                        \n"
				+"	@Override                                                                                            \n"
				+"	public List<Map<String, Object>> boardInfo(Map<String, String> params)                               \n"
				+"			throws Exception {                                                                           \n"
				+"		                                                                                                 \n"
				+"		List<Map<String, Object>> totalViewInfo = new ArrayList<Map<String,Object>>();                   \n"
				+"		Map<String, Object> map = new HashMap<String, Object>();                                         \n"
				+"		                                                                                                 \n"
				+"		Map<String, Object> totalInfo = dao.boardInfo(params);                                           \n"
				+"		List<BoardFileVO> fileInfo = fileService.getBoardFileInfo(params);                               \n"
				+"		List<Map<String, BoardCommentVO>> commentInfo = commentService.getBoardCommentList(params);      \n"
				+"		                                                                                                 \n"
				+"		map.put(\"fileInfo\", fileInfo);                                                                 \n"
				+"		map.put(\"commentInfo\", commentInfo);                                                           \n"
				+"		                                                                                                 \n"
				+"		totalViewInfo.add(totalInfo);                                                                    \n"
				+"		totalViewInfo.add(map);                                                                          \n"
				+"		                                                                                                 \n"
				+"		return totalViewInfo;                                                                            \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(readOnly=true)                                                                        \n"
				+"	@Override                                                                                            \n"
				+"	public int getTotalCount(Map<String, String> params) throws Exception {                              \n"
				+"		return dao.getTotalCount(params);                                                                \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(propagation=Propagation.REQUIRES_NEW)                                                 \n"
				+"	@Override                                                                                            \n"
				+"	public void updateHit(Map<String, String> params) throws Exception {                                 \n"
				+"		dao.updateHit(params);                                                                           \n"
				+"		                                                                                                 \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(propagation=Propagation.REQUIRES_NEW)                                                 \n"
				+"	@Override                                                                                            \n"
				+"	public boolean updateGoodHit(String bo_no) throws Exception {                                        \n"
				+"		boolean result = false;                                                                          \n"
				+"		int cnt = dao.updateGoodHit(bo_no);                                                              \n"
				+"		if (cnt > 0) {                                                                                   \n"
				+"			result = true;                                                                               \n"
				+"		}                                                                                                \n"
				+"		return result;                                                                                   \n"
				+"	}                                                                                                    \n"
				+"	@Transactional(propagation=Propagation.REQUIRES_NEW)                                                 \n"
				+"	@Override                                                                                            \n"
				+"	public boolean insertBadHit(SttemntVO vo) throws Exception {                                         \n"
				+"		boolean result  = false;                                                                         \n"
				+"		Object obj = dao.insertBadHit(vo);                                                               \n"
				+"		if (obj == null) {                                                                               \n"
				+"			result = true;                                                                               \n"
				+"		}                                                                                                \n"
				+"		return result;                                                                                   \n"
				+"	}                                                                                                    \n"
				+"	@Override                                                                                            \n"
				+"	public boolean getBlack(Map<String, String> params) throws Exception {                               \n"
				+"		boolean result = false;                                                                          \n"
				+"		int cnt = dao.getBlack(params);                                                                  \n"
				+"		if (cnt !=0) {                                                                                   \n"
				+"			result = true;                                                                               \n"
				+"		}                                                                                                \n"
				+"		return result;                                                                                   \n"
				+"	}                                                                                                    \n"
				+"                                                                                                       \n"
				+"	@Override                                                                                             \n"
				+"	public List<Map<String, BoardVO>> getAdminWriteList() throws Exception {                              \n"
				+"	return dao.getAdminWriteList();                                                                       \n"
				+" 	}                                                                                                     \n"
				+"                                                                                                       \n"
				+"}                                                                                                      \n");
		writer1.flush();
		writer1.close();
		JavaCompiler compiler1 = ToolProvider.getSystemJavaCompiler();
		StandardJavaFileManager fileManager1 = compiler1.getStandardFileManager(
				null, null, null);

		fileManager1.setLocation(StandardLocation.CLASS_OUTPUT,
				Arrays.asList(new File(JAVA_SERVICE_PATH)));
		compiler1.getTask(
				null,
				fileManager1,
				null,
				null,
				null,
				fileManager1.getJavaFileObjectsFromFiles(Arrays
						.asList(sourceFile))).call();
		fileManager1.flush();
		fileManager1.close();
		
	}
	@Override
	public void daoMaker(String boardName) throws Exception {
		String className = boardName.substring(0, 1).toUpperCase()
				+ boardName.substring(1);
		File createFolder = new File(JAVA_DAO_PATH+boardName);
		createFolder.mkdir();//폴더생성
		
		File sourceFile = new File(JAVA_DAO_PATH +"\\"+boardName+"\\I"+ className + "Dao.java");
		FileWriter writer = new FileWriter(sourceFile);

		writer.write(
				 "package com.ai.fishdr.user.dao."+boardName+";                                                  \n"
                +"                                                                                           \n"
				+"import java.util.List;                                                                     \n"
				+"import java.util.Map;                                                                      \n"
                +"                                                                                           \n"
				+"import com.ai.fishdr.vo.BoardVO;                                                           \n"
				+"import com.ai.fishdr.vo.SttemntVO;                                                         \n"
				+"/**                                                                                        \n"
				+" *                                                                                         \n"
				+" * @Class Name :I"+className+"Dao.java                                                         \n"
				+" * @Description : 게시판 관련 dao                                                          \n"
				+" * @Modification Information                                                               \n"
				+" * @author 진형용                                                                          \n"
				+" * @since  2018. 11. 15.                                                                   \n"
				+" * @version 1.0                                                                            \n"
				+" * @see                                                                                    \n"
				+" * <pre>                                                                                   \n"
				+" * << 개정이력(Modification Information) >>                                                \n"
				+" *    수정일             수정자             수정내용                                       \n"
				+" *    -------        -------     -------------------                                       \n"
				+" *    2018. 11. 15.     진형용             최초작성                                        \n"
				+" *    ------------------------------------------------                                     \n"
				+" * Copyright (c) 2018 AI Fish Dr.  All right reserved                                      \n"
				+" * </pre>                                                                                  \n"
				+" */                                                                                        \n"
				+"public interface I"+className+"Dao {                                                           \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 게시글 등록                                                                   \n"
				+"	 * @Method Name : insertBoard                                                            \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : String                                                                      \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public String insertBoard(BoardVO vo) throws Exception;                                  \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 글 수정                                                                       \n"
				+"	 * @Method Name : updateBoard                                                            \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : int                                                                         \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public int updateBoard(BoardVO vo)throws Exception;                                      \n"
				+"	                                                                                         \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 글 삭제                                                                       \n"
				+"	 * @Method Name : deleteBoard                                                            \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : int                                                                         \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public int deleteBoard(Map<String,String>params) throws Exception;                       \n"
				+"	                                                                                         \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 글 리스트                                                                     \n"
				+"	 * @Method Name : getBoardList                                                           \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : List<Map<String,BoardVO>>                                                   \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public List<Map<String,BoardVO>> getBoardList(Map<String,String>params)throws Exception; \n"
				+"	                                                                                         \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 글 상세정보                                                                   \n"
				+"	 * @Method Name : boardInfo                                                              \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : List<Map<String,Object>>                                                    \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public Map<String, Object> boardInfo(Map<String,String>params) throws Exception;         \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 게시글 갯수                                                                   \n"
				+"	 * @Method Name : getTotalCount                                                          \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : int                                                                         \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public int getTotalCount(Map<String,String>params) throws Exception;                     \n"
				+"		/**                                                                                  \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 조회수                                                                        \n"
				+"	 * @Method Name : updateHit                                                              \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : void                                                                        \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public void updateHit(Map<String, String> params)throws Exception;                       \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 좋아요                                                                        \n"
				+"	 * @Method Name : updateGoodHit                                                          \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : boolean                                                                     \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public int updateGoodHit(String bo_no)throws Exception;                                  \n"
				+"	/**                                                                                      \n"
				+"	 *                                                                                       \n"
				+"	 *  개요 : 신고                                                                          \n"
				+"	 * @Method Name : updateBadHit                                                           \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : boolean                                                                     \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public Object insertBadHit(SttemntVO vo)throws Exception;                                \n"
				+"	/**                                                                                      \n"
				+"	 *  개요 : 신고한 게시글인지 아닌지 체크                                                 \n"
				+"	 * @Method Name : getBlack                                                               \n"
				+"	 * @author : 진형용                                                                      \n"
				+"	 * -----------------------------------                                                   \n"
				+"	 * @param :                                                                              \n"
				+"	 * @return : int                                                                         \n"
				+"	 * @throws :                                                                             \n"
				+"	 */                                                                                      \n"
				+"	public int getBlack(Map<String, String> params)throws Exception;                         \n"
				+"	                                                                                      \n" 
				+"	 /**                                                                                     \n" 
				+"	 *  개요 : 공지사항만 불러오는 리스트                                                    \n" 
				+"	 * @Method Name : getAdminWriteList                                                      \n" 
				+"	 * @author : 진형용                                                                      \n" 
				+"	 * -----------------------------------                                                   \n" 
				+"	 * @param :                                                                               \n" 
				+"	 * @return : List<Map<String,BoardVO>>                                                    \n" 
				+"	 * @throws :                                                                              \n" 
				+"	 */                                                                                       \n" 
				+"	public List<Map<String, BoardVO>> getAdminWriteList() throws Exception;                   \n" 
				+"                                                                                            \n" 
				+"}");  
		writer.flush();
		writer.close();
		JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();
		StandardJavaFileManager fileManager = compiler.getStandardFileManager(
				null, null, null);
		fileManager.setLocation(StandardLocation.CLASS_OUTPUT,
				Arrays.asList(new File(JAVA_DAO_PATH)));
		compiler.getTask(
				null,
				fileManager,
				null,
				null,
				null,
				fileManager.getJavaFileObjectsFromFiles(Arrays
						.asList(sourceFile))).call();
		fileManager.flush();
		fileManager.close();
		////////////////////////dao 생성
		File createFolder1 = new File(JAVA_DAO_PATH+boardName);
		createFolder1.mkdir();
		
		File sourceFile1 = new File(JAVA_DAO_PATH +"\\"+boardName+"\\I"+ className + "DaoImpl.java");
		FileWriter writer1 = new FileWriter(sourceFile1);
		writer1.write(
				 "package com.ai.fishdr.user.dao."+boardName+";                                                          \n"
                +"                                                                                                   \n"
				+"import java.util.List;                                                                             \n"
				+"import java.util.Map;                                                                              \n"
                +"                                                                                                   \n"
				+"import org.springframework.beans.factory.annotation.Autowired;                                     \n"
				+"import org.springframework.stereotype.Repository;                                                  \n"
                +"                                                                                                   \n"
				+"import com.ai.fishdr.vo.BoardVO;                                                                   \n"
				+"import com.ai.fishdr.vo.SttemntVO;                                                                 \n"
				+"import com.ibatis.sqlmap.client.SqlMapClient;                                                      \n"
                +"                                                                                                   \n"
				+"@Repository                                                                                        \n"
				+"public class I"+className+"DaoImpl implements I"+className+"Dao{                                           \n"
				+"	@Autowired                                                                                       \n"
				+"	private SqlMapClient smc;                                                                        \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public String insertBoard(BoardVO vo) throws Exception {                                         \n"
				+"		return (String) smc.insert(\""+boardName+".insertBoard\",vo);                                    \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public int updateBoard(BoardVO vo) throws Exception {                                            \n"
				+"		return smc.update(\""+boardName+".updateBoard\",vo);                                             \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public int deleteBoard(Map<String, String> params) throws Exception {                            \n"
				+"		return smc.delete(\""+boardName+".deleteBoard\",params);                                         \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public List<Map<String, BoardVO>> getBoardList(Map<String, String> params)                       \n"
				+"			throws Exception {                                                                       \n"
				+"		return smc.queryForList(\""+boardName+".getBoardList\",params);                                  \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public Map<String, Object> boardInfo(Map<String, String> params)                                 \n"
				+"			throws Exception {                                                                       \n"
				+"		return (Map<String, Object>) smc.queryForObject(\""+boardName+".getBoardInfo\",params);          \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public int getTotalCount(Map<String, String> params) throws Exception {                          \n"
				+"		return (int) smc.queryForObject(\""+boardName+".getTotalCount\",params);                         \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public void updateHit(Map<String, String> params) throws Exception {                             \n"
				+"		smc.update(\""+boardName+".updateHit\",params);                                                  \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public int updateGoodHit(String bo_no) throws Exception {                                        \n"
				+"		return smc.update(\""+boardName+".updateGoodHit\",bo_no);                                        \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public Object insertBadHit(SttemntVO vo) throws Exception {                                      \n"
				+"		return smc.insert(\""+boardName+".insertBadHit\",vo);                                            \n"
				+"	}                                                                                                \n"
                +"                                                                                                   \n"
				+"	@Override                                                                                        \n"
				+"	public int getBlack(Map<String, String> params) throws Exception {                               \n"
				+"		return (int) smc.queryForObject(\""+boardName+".getBlack\",params);                              \n"
				+"	}                                                                                                \n"
				+"	@Override                                                                                        \n"
				+"	public List<Map<String, BoardVO>> getAdminWriteList() throws Exception {                         \n"
				+"	return smc.queryForList(\""+boardName+".getAdminWriteList\");                                          \n"
				+" }                                                                                                 \n"
				+"	                                                                                                 \n"
				+"}");
		writer1.flush();
		writer1.close();
		JavaCompiler compiler1 = ToolProvider.getSystemJavaCompiler();
		StandardJavaFileManager fileManager1 = compiler1.getStandardFileManager(
				null, null, null);

		fileManager1.setLocation(StandardLocation.CLASS_OUTPUT,
				Arrays.asList(new File(JAVA_DAO_PATH)));
		compiler1.getTask(
				null,
				fileManager1,
				null,
				null,
				null,
				fileManager1.getJavaFileObjectsFromFiles(Arrays
						.asList(sourceFile))).call();
		fileManager1.flush();
		fileManager1.close();
	}

	@Override
	public void jspFileMaker(String boardName, String boardKrName ,String boardCode) throws Exception {
		formMaker(boardName,boardKrName);
		viewMaker(boardName,boardKrName);
		listMaker(boardName,boardKrName, boardCode);
	}
	public void formMaker(String boardName,String boardKrName) throws Exception{
		File createFolder = new File(JSP_PATH+boardName);
		createFolder.mkdir();
		File sourceFile = new File(createFolder.getPath() +"//"+ boardName + "Form.jsp");
		FileWriter writer = new FileWriter(sourceFile);
		writer.write(
			 "	<%@ page language=\"JAVA\" contentType=\"text/html; charset=UTF-8\"      \n"
			+"    pageEncoding=\"UTF-8\"%>                                               \n"
			+" <%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>      \n"
			+"<!DOCTYPE html>                                                            \n"
			+"<html>                                                                     \n"
			+"<head>                                                                     \n"
			+"<style type=\"text/css\">                                                  \n"
			+".box{margin-left:50px; width: 80%;}                                        \n"
			+"</style>                                                                   \n"
			+"</head>                                                                    \n"
			+"<body>                                                                     \n"
			+" <!-- Main content -->                                                     \n"
			+"<section class=\"content\">                                                \n"
			+"	<div class=\"row\">                                                      \n"
			+"		<div class=\"col-md-12\" >                                           \n"
			+"		                                                                     \n"
			+"			<form id=\"insertForm\" action=\"${pageContext.request.contextPath }/user/"+boardName+"/insert"+boardName+".do\" method=\"post\" enctype=\"multipart/form-data\"> \n"
			+"			<div class=\"form-group\" style=\"margin-left: 60px;\">                                                                                               \n"
			+"			<div class=\"box\">                                                                                                                                   \n"
			+"			<hr>                                                                                                                                                  \n"
			+"				<label style=\"float:left; margin: 5px 5px 5px 10px; color: green;\">게시판 :</label>                                                             \n"
			+"				<label style=\"float:left; margin: 5px 5px 5px 10px;\">"+boardKrName+"</label>                                                            \n"
			+"				<br>                                                                                                                                              \n"
			+"				<br>                                                                                                                                              \n"
			+"				<br>                                                                                                                                              \n"
			+"				<label style=\"float:left; margin: 5px 5px 5px 10px; color: green;\">제목 :</label>                                                               \n"
			+"				<input type=\"text\" class=\"form-control\" name=\"bo_title\"                                                                                     \n"
			+"					 style=\"width: 50%; margin-left: 70px;\">                                                                                                    \n"
			+"				<input type=\"hidden\" class=\"form-control\" name=\"bo_writer\" value=\"${LOGIN_MEMBER.mem_id }\">                                               \n"
			+"				                                                                                                                                                  \n"
			+"				<!-- /.box-header -->                                                                                                                             \n"
			+"				<div class=\"box-body pad\" >                                                                                                                     \n"
			+"						<textarea id=\"note\" class=\"textarea\" name=\"bo_content\"                                                                              \n"
			+"							style=\"width: 100%; height: 200px; font-size: 14px; line-height: 18px; border: 1px solid #dddddd; padding: 10px;\"></textarea>       \n"
			+"				 <span id=\"counter\"></span>                                                                                                                     \n"
			+"				</div>                                                                                                                                            \n"
            +"                                                                                                                                                                \n"
			+"			<div id=\"form\" class=\"form-group\" style=\"margin-left: 60px; \">                                                                                  \n"
			+"			<c:if test=\"${boardInfo.board_function2 eq '2' }\">                                                                                                  \n"
			+"					<button type=\"button\" id=\"createFile\" class=\"btn btn-info\" style=\"width:10%; height:30px;\">파일추가</button>                          \n"
			+"					<br>                                                                                                                                          \n"
			+"					<br>                                                                                                                                          \n"
			+"					<table id=\"list\">                                                                                                                           \n"
			+"					</table>                                                                                                                                      \n"
			+"				                                                                                                                                                  \n"
			+"			</c:if>                                                                                                                                               \n"
			+"			</div>                                                                                                                                                \n"
			+"			<button type=\"button\" id=\"return\" style=\"margin-right:20px; font-size:15px;\" class=\"btn btn-info btn-flat bg-purple pull-right\" >목록 </button> \n"
			+"			<button type=\"button\" id=\"insertBtn\" style=\"margin-right:20px; font-size:15px;\" class=\"btn btn-info btn-flat pull-right\">등록 </button>       \n"
			+"			                                                                                                                                                      \n"
			+"			</div>                                                                                                                                                \n"
			+"			</div>                                                                                                                                                \n"
			+"					</form>                                                                                                                                       \n"
			+"			                                                                                                                                                      \n"
			+"			                                                                                                                                                      \n"
            +"                                                                                                                                                                \n"
			+"			                                                                                                                                                      \n"
            +"                                                                                                                                                                \n"
            +"                                                                                                                                                                \n"
            +"                                                                                                                                                                \n"
			+"		</div>                                                                                                                                                    \n"
			+"	</div>                                                                                                                                                        \n"
			+"</section>                                                                                                                                                       \n"
			+"</div>                                                                                                                                                           \n"
            +"                                                                                                                                                                 \n"
			+"<!-- /.content-wrapper -->                                                                                                                                       \n"
			+"</div>                                                                                                                                                           \n"
			+"</body>                                                                                                                                                          \n"
			+"<script type=\"text/javascript\">                                                                                                                                \n"
			+"$(function(){                                                                                                                                                    \n"
			+"	                                                                                                                                                               \n"
			+"	$('#createFile').click(function(){                                                                                                                             \n"
			+"		var cnt = $('input[type=file]').length;                                                                                                                    \n"
			+"		if (cnt==6) {                                                                                                                                              \n"
			+"			alert(\"더 이상 파일을 추가할 수 없습니다.\");			                                                                                               \n"
			+"		}else{                                                                                                                                                     \n"
			+"			var html = '<tr>';                                                                                                                                     \n"
			+"			html += '<td height=\"45\"><input type=\"file\" class=\"fileCheck\" name=\"files\" style=\"float:left;\"><button class=\"btnDel btn-sm btn-danger\" type=\"button\">취소</button></button>';\n"
			+"			html += '</td></tr>';                                                                            \n"
			+"			$(\"#list\").append(html);                                                                       \n"
			+"		}                                                                                                    \n"
			+"	});                                                                                                      \n"
			+"			                                                                                                 \n"
			+"		$(\"#list\").on(\"click\", \".btnDel\", function() {                                                 \n"
			+"			    $(this).parent().parent().remove();                                                          \n"
			+"			  });                                                                                            \n"
            +"                                                                                                           \n"
			+"		                                                                                                     \n"
			+"     $('#note').summernote({                                                                               \n"
			+"       height: 500,                                                                                        \n"
			+"        minHeight: null,                                                                                   \n"
			+"        maxHeight: null,                                                                                   \n"
			+"        focus: true,                                                                                       \n"
			+"        toolbar: [                                                                                         \n"
			+"                  // [groupName, [list of button]]                                                         \n"
			+"                  ['style', ['bold', 'italic', 'underline', 'clear']],                                     \n"
			+"                  ['font', ['strikethrough', 'superscript', 'subscript']],                                 \n"
			+"                  ['fontsize', ['fontsize']],                                                              \n"
			+"                  ['color', ['color']],                                                                    \n"
			+"                  ['para', ['ul', 'ol', 'paragraph']],                                                     \n"
			+"                  ['height', ['height']],                                                                   \n"
			+"                  ['picture']   \n"
			+"                ]                                                                                          \n"
			+"   });                                                                                                     \n"
			+"   $('#return').click(function(){                                                                          \n"
			+"	  $(location).attr('href','${pageContext.request.contextPath}/user/"+boardName+"/"+boardName+"List.do') ;        \n"
			+"   });                                                                                                     \n"
			+"   $('#insertBtn').click(function(){                                                                       \n"
			+"	 var checkImage = $('.fileCheck').val();                                                                  \n"
			+"		if (checkImage!=null) {\n"
			+"			checkImage = checkImage.slice(checkImage.indexOf('.')+1).toLowerCase();\n"
			+"		}else{\n"
			+"			checkImage='';\n"
			+"		}\n"
			+"	                                                                                 \n"
			+"	 if (checkImage==\"jpg\"||checkImage==\"png\"||checkImage==\"gif\"||checkImage==\"bmp\") {                         \n"
			+"		 alert('파일만 등록이 가능합니다.');                                                                        \n"
			+"		 return;                                                                                               \n"
			+"  	 }                                                                                                     \n"
			+"                                                                                                             \n"
			+"		if ($('input[name=bo_title]').val() == '') {                                                         \n"
			+"			alert('제목을 입력해 주세요');                                                                   \n"
			+"				return;                                                                                      \n"
			+"			}                                                                                                \n"
			+"		if ($('textarea[name=bo_content]').val() == '') {                                                    \n"
			+"			alert('내용을 입력해 주세요');                                                                   \n"
			+"				return;                                                                                      \n"
			+"			}                                                                                                \n"
			+"	   //정규식 체크                                                                                         \n"
			+"	   $('#insertForm').submit();                                                                            \n"
			+"   });                                                                                                     \n"
			+"});                                                                                                        \n"
            +"                                                                                                           \n"
			+"</script>                                                                                                  \n"
			+"</html>");                                                                                                               
		writer.flush();
		writer.close();
	};
	public void viewMaker(String boardName,String boardKrName) throws Exception{
		File createFolder = new File(JSP_PATH+boardName);
		createFolder.mkdir();
		File sourceFile = new File(createFolder.getPath() +"//"+ boardName + "View.jsp");
		FileWriter writer = new FileWriter(sourceFile);
		writer.write(
			 "<%@ page language=\"JAVA\" contentType=\"text/html; charset=UTF-8\"                                "
			+"  pageEncoding=\"UTF-8\"%>                                                                         \n"
			+" <%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>                                \n"
			+" <%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>                          \n"
			+"<!DOCTYPE html>                                                                                      \n"
			+"<html>                                                                                               \n"
			+"<head>                                                                                               \n"
			+"</head>                                                                                              \n"
			+"<style>                                                                                              \n"
			+".box{margin-left:50px; width: 80%;}                                                                  \n"
			+"th{text-align: center;}                                                                              \n"
			+"textarea {                                                                                           \n"
			+"  resize: none;                                                                                      \n"
			+"}                                                                                                    \n"
			+"</style>                                                                                             \n"
			+"<body>                                                                                               \n"
            +"                                                                                                     \n"
			+" <!-- Main content -->                                                                               \n"
			+"<section class=\"content\">                                                                          \n"
			+"	<div class=\"row\">                                                                                \n"
			+"		<div class=\"col-md-12\">                                                                      \n"
			+"				<form id=\"updateForm\" method=\"post\" >                                              \n"
			+"			<div class=\"box\">                                                                        \n"
			+"				                                                                                       \n"
			+"				<!-- /.box-header -->                                                                  \n"
			+"				<div class=\"box-body pad\">                                                           \n"
			+"			            <input type=\"text\" class=\"form-control\" onkeyup =\"auto_size(this,this.size)\" name=\"bo_title\" style=\"background-color:white; font-size:15pt; color:green; border: none;\" value=\"${viewInfo[0].BO_TITLE }\"> \n"
			+"			            <hr>                                                                                                                                                                                             \n"
			+"	                	<input type=\"hidden\" name=\"bo_writer\" value=\"${viewInfo[0].BO_WRITER}\" >                                                                                                                   \n"
			+"	                	<input type=\"hidden\" name=\"bo_no\" value=\"${viewInfo[0].BO_NO }\" >                                                                                                                          \n"
			+"					<div class=\"dropdown\">                                                                                                                                                                             \n"
			+"			  			<a href=\"#\" class=\" dropdown-toggle\" data-toggle=\"dropdown\">                                                                                                                               \n"
			+"			  			&nbsp;&nbsp;&nbsp;	${viewInfo[0].MEM_NICKNAME }(${fn:substring(viewInfo[0].BO_WRITER,0 ,2) }***)	</a><img src=\"https://cafe.pstatic.net/levelicon/1/1_1.gif\" width=\"11\" height=\"11\">  \n"
			+"			  			|&nbsp; <span style=\"font-size: 10pt; color: blue;\"> "+boardKrName+"</span>                                                                                                        \n"
			+"			  			<ul class=\"dropdown-menu\">                                                                                                                                                                   \n"
			+"			  			<c:if test=\"${LOGIN_MEMBER.mem_id !=viewInfo[0].BO_WRITER }\">                                                                                                                                \n"
			+"			  				<li><a href=\"#\"><span onclick=\"goChatModal('${viewInfo[0].MEM_NICKNAME }(${viewInfo[0].BO_WRITER})');\">1:1 채팅하기</span></a></li>                                                    \n"
			+"			  				<li><a href=\"#\"><span onclick=\"goModal('${viewInfo[0].MEM_NICKNAME }(${viewInfo[0].BO_WRITER})');\">쪽지보내기</span></a></li>                                                          \n"
			+"			  			</c:if>                                                                                                                                                                                        \n"
			+"			  				<li><a href=\"${pageContext.request.contextPath }/user/fishgram/fishgramYouList.do?mem_id=${viewInfo[0].BO_WRITER}\">블로그가기</a></li>                                                   \n"
			+"				  		</ul>                                                                                                                                                                                          \n"
			+"				  	</div>                                                                                                                                                                                             \n"
			+"<!-- 						<textarea id=\"note\" class=\"textarea\" name=\"bo_content\"  -->                                                                                                                          \n"
			+"<!-- 							style=\"width: 100%; height: 200px; font-size: 14px; line-height: 18px; border: 1px solid #dddddd; padding: 10px;\"> -->                                                               \n"
			+"<!-- 							</textarea> -->                                                                                                                                                                        \n"
			+"							<div id=\"note\">                                                                                                                                                                          \n"
			+"								${content }                                                                                                                                                                            \n"
			+"							</div>                                                                                                                                                                                     \n"
			+"							<input id=\"hidden\" name=\"bo_content\" type=\"text\" value=\"\" style=\"display: none;\">                                                                                                \n"
			+"					                                                                                                                                                                                                   \n"
			+"			  				<hr>                                                                                                                                                                                       \n"
			+"						<div id=\"beforeContent\" style=\"padding :20px 30px 20px 30px; height: auto; min-height: 300px; overflow: auto;\">                                                                            \n"
			+"							${content }                                                                                                                                                                                \n"
			+"						</div>                                                                                                                                                                                         \n"
			+"						<hr>                                                                                                                                                                                           \n"
			+"						<c:if test=\"${viewInfo[0].BO_WRITER != 'admin'}\">                                                                                                                                            \n"
			+"						<button id=\"recommend\" type=\"button\" style=\"margin-right: 20px\" class=\"btn btn-info btn-sm\">추천하기</button>                                                                          \n"
			+"						<button id=\"black\" type=\"button\" class=\"btn btn-danger btn-sm\">신고하기</button>                                                                                                         \n"
			+"						</c:if>                                                                                                                                                                                        \n"
			+"				</div>                                                                                                                                                                                                 \n"
			+"			<div class=\"show box-body\">                                                                                                                                                                              \n"
			+"				<table>                                                                                                                                                                                                \n"
			+"				<c:forEach items=\"${viewInfo[1].fileInfo }\" var=\"file\">                                                                                                                                            \n"
			+"					<c:if test=\"${! fn:contains(file.file_content_type, 'image') }\">                                                                                                                                 \n"
			+"					<tr>                                                                                                                                                                                               \n"
			+"						<td style=\"width: 100%;\"><div class=\"input-group input-group-sm\" style=\"width: 80%;\" >                                                                                                   \n"
			+"	                		<input type=\"text\" disabled=\"disabled\" name=\"file_name\" class=\"form-control\" size=\"50\" value=\"${file.file_name }\">                                                             \n"
			+"	                		<span class=\"input-group-btn\">                                                                                                                                                           \n"
			+"						   <button type=\"button\" onclick=\"deleteFile(this.value);\" value=\"${file.file_no }\" style=\"width:50px; margin-right:10px;\" class=\"fileDelBtn btn btn-danger btn-sm\">삭제</button>    \n"
			+"						   <button type=\"button\" value=\"${file.file_no }\" style=\"width:100px; margin-right:10px;\"                                                                                                \n"
			+"						   	onclick=\"javascript:location.href='${pageContext.request.contextPath }/user/"+boardName+"/fileDownload.do?file_no=${file.file_no }';\" class=\"downBtn btn btn-info btn-sm\">다운로드</button>\n"
			+"		                    </span>                                                                                                                                         \n"
			+"	                	</div></td>                                                                                                                                         \n"
			+"					</tr>                                                                                                                                                   \n"
			+"					</c:if>                                                                                                                                                 \n"
			+"					</c:forEach>                                                                                                                                            \n"
			+"				</table>                                                                                                                                                    \n"
			+"		 </div>	                                                                                                                                                            \n"
			+"		 <hr>                                                                                                                                                               \n"
			+"		  	<div id=\"form\" class=\"form-group\">                                                                                                                          \n"
			+"					<button type=\"button\" id=\"createFile\" class=\"btn btn-info\" style=\"margin:10px; width:10%; height:30px;\">첨부파일 등록</button>                  \n"
			+"					<br>                                                                                                                                                    \n"
			+"					<br>                                                                                                                                                    \n"
			+"					<table id=\"list\">                                                                                                                                     \n"
			+"					</table>                                                                                                                                                \n"
			+"			</div>                                                                                                                                                          \n"
			+"			</div>                                                                                                                                                          \n"
            +"                                                                                                                                                                          \n"
            +"                                                                                                                                                                          \n"
			+"<!-- 			<div class=\"show box box-body\"> -->                                                                                                                       \n"
			+"<%-- 			<c:forEach items=\"${viewInfo[1].fileInfo }\" var=\"file\"> --%>                                                                                            \n"
			+"<%-- 				<c:if test=\"${fn:split(file.file_content_type,'/')[0] eq 'image' }\"> --%>                                                                             \n"
			+"<%-- 					<input type=\"hidden\" name=\"file_no\" value=\"${file.file_no }\"> --%>                                                                            \n"
			+"<%-- 					<div id=\"${file.file_no }\"><img src=\"/image/${file.file_save_name }\" style=\"width: 20%; height: 300px; float: left;\"></div> --%>              \n"
			+"<%-- 				</c:if> --%>                                                                                                                                            \n"
			+"<%-- 			</c:forEach> --%>                                                                                                                                           \n"
			+"<!-- 		  </div> -->                                                                                                                                                    \n"
			+"		  </form>                                                                                                                                                           \n"
			+"		  	<div class=\"box\">                                                                                                                                             \n"
			+"		  	                                                                                                                                                                \n"
			+"            <div class=\"dataTables_wrapper form-inline dt-bootstrap\">                                                                                                   \n"
			+"         	<c:if test=\"${viewInfo[0].BOARD_FUNCTION eq '0'}\">                                                                                                            \n"
			+"                	<form id=\"insForm\" method=\"post\" action=\"${pageContext.request.contextPath }/user/"+boardName+"/insertComment.do?commentPage=${commentPage}&currentPage=${currentPage}&search=${search}&keyword=${keyword}\" >\n"
			+"	                	<div class=\"input-group input-group-sm\" style=\"margin:40px 20px 0px 50px; width: 100%;\" >                                                                      \n"
			+"	                		<textarea  name=\"comment_content\" class=\"form-control\" style=\"margin-left:10%; width: 60%; height: 80px;\"></textarea>                                    \n"
			+"	                		<input type=\"hidden\" name=\"mem_id\" value=\"${LOGIN_MEMBER.mem_id }\" >                                                                                     \n"
			+"	                		<input type=\"hidden\" name=\"bo_no\" value=\"${viewInfo[0].BO_NO } \" >                                                                                       \n"
			+"	                		<br>                                                                                                                                                           \n"
			+"		                     <button id=\"insCBtn\" type=\"button\" class=\"btn btn-info btn-flat pull-right\" style=\"margin-right: 250px;\">댓글등록</button>                            \n"
			+"	                	</div>                                                                                                                                                             \n"
			+"	                </form>                                                                                                                                                                \n"
			+"               <div class=\"row\">                                                                                                                                                       \n"
			+"                  <div class=\"col-sm-12\">                                                                                                                                              \n"
			+"					<br>                                                                                                                                                                   \n"
			+"                                                                                                                                                                                         \n"
			+"                                                                                                                                                                                         \n"
			+"                                                                                                                                                                                         \n"
			+"                      <table id=\"example1\" class=\"table table-bordered table-striped dataTable\" >                                                                                    \n"
			+"                <thead>                                                                                                                                                                  \n"
			+"                <tr role=\"row\">                                                                                                                                                        \n"
			+"	                <th class=\"sorting_asc\" tabindex=\"0\"  rowspan=\"1\" colspan=\"1\" style=\"width: 70px; text-align: center;\"></th>                                                 \n"
			+"	                <th class=\"sorting\" tabindex=\"0\"  rowspan=\"1\" colspan=\"1\" style=\"width: 500px;\"></th>                                                                        \n"
			+"	                <th class=\"sorting\" tabindex=\"0\"  rowspan=\"1\" colspan=\"1\" style=\"width: 20px;\"></th>                                                                         \n"
			+"	                <th class=\"sorting\" tabindex=\"0\"  rowspan=\"1\" colspan=\"1\" style=\"width: 20px;\"></th>                                                                         \n"
			+"                </tr>                                                                                                                                                                    \n"
			+"                </thead>                                                                                                                                                                 \n"
			+"                <tbody id=\"CommentBody\">                                                                                                                                               \n"
			+"                      <c:forEach items=\"${viewInfo[1].commentInfo }\" var=\"comment\">                                                                                                  \n"
			+"	                <tr role=\"row\" class=\"odd\">                                                                                                                                        \n"
			+"	                  <td style=\"text-align: center;\" class=\"sorting_1\">                                                                                                               \n"
			+"	                  <div class=\"dropdown\">                                                                                                                                             \n"
			+"			  			<a href=\"#\" class=\" dropdown-toggle\" data-toggle=\"dropdown\">                                                                                                 \n"
			+"			  			<span style=\"font-size: 10pt; color: blue;\"> ${comment.MEM_NICKNAME}</span></a>                                                                                  \n"
			+"			  			<ul class=\"dropdown-menu\">                                                                                                                                       \n"
			+"			  			<c:if test=\"${LOGIN_MEMBER.mem_id !=comment.MEM_ID }\">                                                                                                           \n"
			+"			  				<li><a href=\"#\"><span onclick=\"goChatModal('${comment.MEM_NICKNAME }(${comment.MEM_ID})');\">1:1 채팅하기</span></a></li>                                   \n"
			+"			  				<li><a href=\"#\"><span onclick=\"goModal('${comment.MEM_NICKNAME }(${comment.MEM_ID})');\">쪽지보내기</span></a></li>                                         \n"
			+"			  			</c:if>                                                                                                                                                            \n"
			+"			  				<li><a href=\"${pageContext.request.contextPath }/user/fishgram/fishgramYouList.do?mem_id=${comment.MEM_ID}\">블로그가기</a></li>                              \n"
			+"				  		</ul>                                                                                                                                                              \n"
			+"				  	</div>                                                                                                                                                                 \n"
			+"	                  </td>                                                                                                                                                                \n"
			+"	                  <td> <input type=\"hidden\" name=\"comment_no\" value=\"${comment.COMMENT_NO}\">                                                                                     \n"
			+"	                  <textarea name=\"comment_content\" style=\"width:60%;  border: none; background: transparent;\" disabled=\"disabled\">${comment.COMMENT_CONTENT}</textarea></td>     \n"
			+"	                  <td style=\"text-align: center;\"><p class=\"text-green\">${comment.COMMENT_REG_DATE}</p></td>                                                                       \n"
			+"	                  <td style=\"text-align: center;\" >                                                                                                                                  \n"
			+"	                  <c:if test=\"${comment.MEM_ID == LOGIN_MEMBER.mem_id }\">                                                                                                            \n"
			+"	                  <button type=\"button\" value=\"${comment.COMMENT_NO}\" class=\"bfCBtn btn btn-primary btn-sm \"><span class=\"glyphicon glyphicon-pencil\"></span></button>         \n"
			+"	                  <button type=\"button\" value=\"${comment.COMMENT_NO}\" class=\"afCBtn btn btn-primary btn-sm \"><span class=\"glyphicon glyphicon-pencil\"></span></button>         \n"
			+"	                  <button type=\"button\" onclick=\"delComment(this.value);\" value=\"${comment.COMMENT_NO}\" class=\"boardInfo btn btn-danger btn-sm\"><span class=\"glyphicon glyphicon-trash\"></span></button> \n"
			+"	                  </c:if>                                                                                                                                                        \n"
			+"	                  </td>                                                                                                                                                          \n"
			+"	                </tr>                                                                                                                                                            \n"
			+"	                   </c:forEach>                                                                                                                                                  \n"
			+"  				</tbody>                                                                                                                                                         \n"
			+"  				<tfoot>                                                                                                                                                          \n"
			+"  					<tr >                                                                                                                                                        \n"
			+"  					 <td style=\"text-align: center;\" class=\"sorting\" tabindex=\"0\"  rowspan=\"1\" colspan=\"4\" >                                                           \n"
			+"	                	<div class=\"form-group\" style=\"width: 100%\">                                                                                                             \n"
			+"	         	          ${paging }                                                                                                                                                 \n"
			+"	                	</div>                                                                                                                                                       \n"
			+"	                </td>                                                                                                                                                            \n"
			+"  					</tr>                                                                                                                                                        \n"
			+"  				</tfoot>                                                                                                                                                         \n"
			+"                </table>                                                                                                                                                          \n"
            +"                                                                                                                                                                                  \n"
			+"                  </div>                                                                                                                                                          \n"
			+"               </div>                                                                                                                                                             \n"
			+"               <br>                                                                                                                                                               \n"
			+"         	</c:if>                                                                                                                                                                 \n"
			+"          <button id=\"return\" type=\"button\"  style=\"width:140px; margin-right:10px;\" class=\"btn btn-info btn-sm bg-purple pull-right\">목록</button>                       \n"
			+"          <button id=\"delBtn\"type=\"button\" value=\"${viewInfo[0].BO_NO }\" style=\"width:140px; margin-right:10px;\" class=\"btn btn-danger btn-sm pull-right\">삭제</button> \n"
			+"          <button id=\"updateBtn\" type=\"button\"  style=\"width:140px; margin-right:10px;\" class=\"btn btn-info btn-sm pull-right\">수정</button>                              \n"
			+"          <button id=\"finalUpdate\" type=\"button\"  style=\"width:140px; margin-right:10px;\" class=\"btn btn-info btn-sm pull-right\">수정</button>                            \n"
			+"               <div class=\"row\">                                                                                                                                                \n"
			+"                                                                                                                                                                                  \n"
            +"                                                                                                                                                                                  \n"
			+"                                                                                                                                                                                  \n"
			+"               </div>                                                                                                                                                             \n"
			+"                                                                                                                                                                                  \n"
			+"            </div>                                                                                                                                                                \n"
			+"					                                                                                                                                                                \n"
			+"					                                                                                                                                                                \n"
			+"					<!-- /.box-body -->                                                                                                                                             \n"
			+"			</div>                                                                                                                                                                  \n"
            +"                                                                                                                                                                                  \n"
            +"                                                                                                                                                                                  \n"
            +"                                                                                                                                                                                  \n"
			+"		</div>                                                                                                                                                                      \n"
			+"	</div>                                                                                                                                                                          \n"
			+"	                                                                                                                                                                                \n"
			+"	                                                                                                                                                                                \n"
			+"<!-- 추천하기 모달 -->                                                                                                                                                            \n"
			+"	<div class=\"modal\" id=\"recModal\" tabindex=\"-1\" role=\"dialog\">                                                                                                           \n"
			+"	<div class=\"modal-dialog modal-sm\">                                                                                                                                           \n"
			+"		<div class=\"modal-content\">                                                                                                                                               \n"
			+"			<div class=\"modal-body\">                                                                                                                                              \n"
			+"			<span style=\"color: green;\">추천하시겠습니까 ? </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                        \n"
			+"				<button id=\"yes\" type=\"button\" class=\"btn btn-info\">네</button>                                                                                               \n"
			+"				<button type=\"button\" class=\"btn\" data-dismiss=\"modal\">닫기</button>                                                                                          \n"
			+"			</div>                                                                                                                                                                  \n"
			+"		</div>                                                                                                                                                                      \n"
			+"	</div>                                                                                                                                                                          \n"
			+"</div>                                                                                                                                                                            \n"
			+"	<!--추천하기 모달 끝  -->                                                                                                                                                                       \n"
			+"<!-- 신고하기 모달 -->                                                                                                                                                                            \n"
			+"	<div class=\"modal\" id=\"blModal\" tabindex=\"-1\" role=\"dialog\">                                                                                                                            \n"
			+"	<div class=\"modal-dialog modal-md\">                                                                                                                                                           \n"
			+"		<div class=\"modal-content\">                                                                                                                                                               \n"
			+"			<div class=\"modal-header\">                                                                                                                                                            \n"
			+"				<h2>신고하기</h2>                                                                                                                                                                   \n"
			+"			</div>                                                                                                                                                                                  \n"
			+"			<div class=\"modal-body\">                                                                                                                                                              \n"
			+"			<div id=\"pop_content\" style=\"border: thin;\">                                                                                                                                        \n"
			+"            <dl>                                                                                                                                                                                  \n"
			+"			<dt>제&nbsp;&nbsp;&nbsp;목 :</dt>                                                                                                                                                       \n"
			+"            <dd style=\"color: blue;\">${viewInfo[0].BO_TITLE }</dd>                                                                                                                              \n"
			+"            <dt>작성자 :</dt>                                                                                                                                                                     \n"
			+"            <dd style=\"color: blue;\">${viewInfo[0].MEM_NICKNAME }(${fn:substring(viewInfo[0].BO_WRITER,0 ,2) }***)</dd>                                                                         \n"
			+"            <hr>                                                                                                                                                                                  \n"
			+"            <dt><span>사유선택</span> :</dt>                                                                                                                                                      \n"
			+"            <dd class=\"dd_type\">                                                                                                                                                                \n"
			+"                <p class=\"desc5\">여러 사유에 해당되는 경우, 대표적인 사유 1개를 선택해 주세요                                                                                                   \n"
			+"                </p>                                                                                                                                                                              \n"
			+"                <form id=\"sttemnt\" method=\"post\">                                                                                                                                             \n"
			+"                <input type=\"hidden\" name=\"mem_id\" value=\"${LOGIN_MEMBER.mem_id }\">                                                                                                         \n"
			+"                <input type=\"hidden\" name=\"bo_no\" value=\"${viewInfo[0].BO_NO }\">                                                                                                            \n"
			+"                <ul class=\"list_type\">                                                                                                                                                          \n"
			+"                    <li>                                                                                                                                                                          \n"
			+"                        <input type=\"radio\" name=\"reason\" value=\"부적절한 홍보 게시글\" class=\"input_rdo\"><label for=\"rdo_illegal\">&nbsp;부적절한 홍보 게시글</label>                    \n"
			+"                    </li>                                                                                                                                                                         \n"
			+"                    <li>                                                                                                                                                                          \n"
			+"                        <input type=\"radio\" name=\"reason\" value=\"음란성 또는 청소년에게 부적합한 내용\" class=\"input_rdo\"> <label for=\"rdo_obscenity\">음란성 또는 청소년에게 부적합한 내용</label>\n"
			+"                    </li>                                                                                                                                                                         \n"
			+"                    <li>                                                                                                                                                                          \n"
			+"                        <input type=\"radio\" name=\"reason\"  value=\"명예훼손/사생활 침해 및 저작권침해등\" class=\"input_rdo\"> <label for=\"rdo_libel\">명예훼손/사생활 침해 및 저작권침해 등</label>\n"
			+"                    </li>                                                                                                                                                                         \n"
			+"                    <li>                                                                                                                                                                          \n"
			+"                        <input type=\"radio\" name=\"reason\" value=\"기타\" class=\"input_rdo\"> <label for=\"rdo_etc\">기타</label>                                                             \n"
			+"                    </li>                                                                                                                                                                         \n"
			+"                </ul>                                                                                                                                                                             \n"
			+"                <hr>                                                                                                                                                                              \n"
			+"                	해당 신고는 AIFishDr 운영자에게 전달됩니다.<br><br>                                                                                                                             \n"
			+"					우리 홈페이지 규정을 위반한 경우 관리자에게 문의해주세요.                                                                                           \n"
			+"					<hr>                                                                                                                                                \n"
			+"                </form>                                                                                                                                               \n"
			+"            </dd>                                                                                                                                                     \n"
			+"        </dl>                                                                                                                                                         \n"
			+"        </div>                                                                                                                                                        \n"
			+"			<span style=\"color: green;\">신고하시겠습니까 ? </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                            \n"
			+"				<button id=\"yes1\" type=\"button\" class=\"btn btn-info\">네</button>                                                                                  \n"
			+"				<button type=\"button\" class=\"btn\" data-dismiss=\"modal\">닫기</button>                                                                              \n"
			+"			</div>                                                                                                                                                      \n"
			+"		</div>                                                                                                                                                          \n"
			+"	</div>                                                                                                                                                              \n"
			+"</div>                                                                                                                                                                \n"
			+"	<!--추천하기 모달 끝  -->                                                                                                                                           \n"
			+"	                                                                                                                                                                    \n"
			+"</section>                                                                                                                                                            \n"
			+"</div>                                                                                                                                                                \n"
			+"<!-- /.content-wrapper -->                                                                                                                                            \n"
			+"</div>                                                                                                                                                                \n"
			+"</body>                                                                                                                                                               \n"
			+"<script type=\"text/javascript\">                                                                                                                                     \n"
			+"$(function(){                                                                                                                                                         \n"
			+"	//본인 게시물 아닐 시 버튼 하이드                                                                                                                                   \n"
			+"	if (eval('${LOGIN_MEMBER.mem_id != viewInfo[0].BO_WRITER }')) {                                                                                                     \n"
			+"		$('#delBtn').hide(); //글 삭제버튼                                                                                                                              \n"
			+"		$('#updateBtn').hide();//글 수정버튼                                                                                                                            \n"
			+"		$('input[name=bo_title]').attr('readonly',true);                                                                                                                \n"
			+"		$('#note').attr('readonly',true);                                                                                                                               \n"
			+"	}else{                                                                                                                                                              \n"
			+"		$('#recommend').hide();//추천버튼                                                                                                                               \n"
			+"		$('#black').hide();//신고                                                                                                                                       \n"
			+"	}                                                                                                                                                                   \n"
			+"	if (eval('${checkBlack}')) {                                                                                                                                        \n"
			+"		$('#black').attr('disabled','disabled').text('이미 신고완료한 게시물입니다.');                                                                                  \n"
			+"	};                                                                                                                                                                  \n"
			+"	                                                                                                                                                                    \n"
			+"	$('#createFile').hide();                                                                                                                                            \n"
			+"	$('.fileDelBtn').hide(); //파일 삭제버튼                                                                                                                            \n"
			+"	$('.afCBtn').hide();                                                                                                                                                \n"
			+"	$('#return').click(function(){                                                                                                                                                    \n"
			+"		$(location).attr('href','${pageContext.request.contextPath}/user/"+boardName+"/"+boardName+"List.do?currentPage=${currentPage}&search=${search}&keyword=${keyword}');                 \n"
			+"	});                                                                                                                                                                               \n"
			+"	                                                                                                                                                                                  \n"
			+"	$('#updateBtn').click(function(){                                                                                                                                                 \n"
			+"		$('#note').show();                                                                                                                                                            \n"
			+"	     $('#note').summernote({                                                                                                                                                      \n"
			+"	       height: 300,                 // 썸머노트 높이                                                                                                                              \n"
			+"	        minHeight: null,             // set minimum height of editor                                                                                                              \n"
			+"	        maxHeight: null,             // set maximum height of editor                                                                                                              \n"
			+"	        focus: false,        // set focus to editable area after initializing summernote                                                                                          \n"
			+"	        toolbar: [                                                                                                                                                                \n"
			+"	                  // [groupName, [list of button]]                                                                                                                                \n"
			+"	                  ['style', ['bold', 'italic', 'underline', 'clear']],                                                                                                            \n"
			+"	                  ['font', ['strikethrough', 'superscript', 'subscript']],                                                                                                        \n"
			+"	                  ['fontsize', ['fontsize']],                                                                                                                                     \n"
			+"	                  ['color', ['color']],                                                                                                                                           \n"
			+"	                  ['para', ['ul', 'ol', 'paragraph']],                                                                                                                            \n"
			+"	                  ['height', ['height']],                                                                                                                                         \n"
			+"	                  ['picture']                                                                                                                                                     \n"
			+"	                ]                                                                                                                                                                 \n"
			+"	  	 });                                                                                                                                                                          \n"
			+"	    $('input[name=bo_title]').attr('style','');                                                                                                                                   \n"
			+"	    $('#beforeContent').remove();                                                                                                                                                 \n"
			+"	    $('#finalUpdate').show();                                                                                                                                                     \n"
			+"	    $('.fileDelBtn').show();                                                                                                                                                      \n"
			+"	    $('#createFile').show();                                                                                                                                                      \n"
			+"	    $(this).hide();                                                                                                                                                               \n"
			+"	});                                                                                                                                                                               \n"
			+"	$('#finalUpdate').hide();                                                                                                                                                         \n"
			+"	$('#note').hide();                                                                                                                                                                \n"
			+"	$('#insCBtn').click(function(){                                                                                                                                                   \n"
			+"		//정규식 적용                                                                                                                                                                 \n"
			+"		if ($('textarea[name=comment_content]').val() == '') {                                                                                                                        \n"
			+"		alert('내용을 입력해 주세요');                                                                                                                                                \n"
			+"			return;                                                                                                                                                                   \n"
			+"		}                                                                                                                                                                             \n"
			+"		$('#insForm').submit();                                                                                                                                                       \n"
			+"		                                                                                                                                                                              \n"
			+"	});                                                                                                                                                                               \n"
			+"	                                                                                                                                                                                  \n"
			+"	$('#delBtn').click(function(){                                                                                                                                                    \n"
			+"		var bo_no = $(this).val();                                                                                                                                                    \n"
			+"		$(location).attr('href','${pageContext.request.contextPath}/user/"+boardName+"/delete"+boardName+".do?bo_no='+bo_no);                                                                 \n"
			+"	});                                                                                                                                                                               \n"
			+"	                                                                                                                                                                                  \n"
			+"	if (eval(\"${viewInfo[1].fileInfo eq '[]'}\") ) {                                                                                                                                 \n"
			+"		$('.show').remove();                                                                                                                                                          \n"
			+"	}                                                                                                                                                                                 \n"
			+"	$('input[name=bo_title]').attr('size', $('input[name=bo_title]').val().length);                                                                                                   \n"
			+"	                                                                                                                                                                                  \n"
			+"	                                                                                                                                                                                  \n"
			+"	                                                                                                                                                                                  \n"
			+"	$('#finalUpdate').click(function(){                                                                                                                                               \n"
			+"		var checkImage = $('.fileCheck').val();                                                                                                                                       \n"
			+"		if (checkImage!=null) {\n"
			+"			checkImage = checkImage.slice(checkImage.indexOf('.')+1).toLowerCase();\n"
			+"		}else{\n"
			+"			checkImage='';\n"
			+"		}\n"
			+"		if (checkImage==\"jpg\"||checkImage==\"png\"||checkImage==\"gif\"||checkImage==\"bmp\") {                                                                                     \n"
			+"			alert('파일만 등록이 가능합니다.');                                                                                                                                       \n"
			+"			return;                                                                                                                                                                   \n"
			+"		}                                                                                                                                                                             \n"
			+"		                                                                                                                                                                              \n"
			+"		if ($('input[name=bo_title]').val() == '') {                                                                                                                                  \n"
			+"			alert('제목을 입력해 주세요');                                                                                                                                            \n"
			+"				return;                                                                                                                                                               \n"
			+"		}                                                                                                                                                                             \n"
			+"		$('input[name=bo_content]').val($('#note').summernote('code'));                                                                                                               \n"
			+"		var form = $('form')[0];                                                                                                                                                      \n"
			+"		var formData = new FormData(form);                                                                                                                                            \n"
			+"		$.ajax({                                                                                                                                                                      \n"
			+"			url: '${pageContext.request.contextPath}/user/"+boardName+"/updateBoard.do',                                                                                                  \n"
			+"			processData: false,                                                                                                                                                       \n"
			+"			contentType: false,                                                                                                                                                       \n"
			+"			data: formData,                                                                                                                                                           \n"
			+"			type: 'POST',                                                                                                                                                             \n"
			+"			success: function(result){                                                                                                                                                \n"
			+"			    alert(\"수정 완료되었습니다.\");                                                                                                                                      \n"
			+"   	 			$(location).attr('href','${pageContext.request.contextPath}/user/"+boardName+"/"+boardName+"List.do?currentPage=${currentPage}&search=${search}&keyword=${keyword}');     \n"
			+"			 }                                                                                                                                                                        \n"
			+"		});                                                                                                                                                                           \n"
			+"		                                                                                                                                                                              \n"
			+"	});                                                                                                                                                                               \n"
			+"	$('#createFile').click(function(){                                                                                                                                                \n"
			+"		var cnt = $('.downBtn').length;                                                                                                                                               \n"
			+"		var fileCnt = $('.btnDel').length;                                                                                                                                            \n"
			+"		if (cnt+fileCnt==5) {                                                                                                                                                         \n"
			+"			alert(\"더 이상 파일을 추가할 수 없습니다.\");			                                                                                                                  \n"
			+"		}else{                                                                                                                                                                        \n"
			+"			var html = '<tr>';                                                                                                                                                        \n"
			+"			html += '<td height=\"45\"><input type=\"file\" class=\"fileCheck\" name=\"files\" style=\"float:left;\"><button class=\"btnDel btn-sm btn-danger\" type=\"button\">삭제</button></button>'; \n"
			+"			html += '</td></tr>';                                                                                                                                                   \n"
			+"			$(\"#list\").append(html);                                                                                                                                              \n"
			+"		}                                                                                                                                                                           \n"
			+"	});                                                                                                                                                                             \n"
			+"			                                                                                                                                                                        \n"
			+"	$(\"#list\").on(\"click\", \".btnDel\", function() {                                                                                                                            \n"
			+"		 $(this).parent().parent().remove();                                                                                                                                        \n"
			+"	});                                                                                                                                                                             \n"
			+"	$('.bfCBtn').click(function(){                                                                                                                                                  \n"
			+"		var num = $(this).val();                                                                                                                                                    \n"
			+"		$('#CommentBody').children().find('button[value='+num+']').parents('tr').children().find('textarea').attr('disabled',false).css('background','#F9E5EE');                    \n"
			+"		$(this).hide();                                                                                                                                                             \n"
			+"		$(this).siblings(\".afCBtn\").show();                                                                                                                                       \n"
			+"	});                                                                                                                                                                             \n"
			+"	$('.afCBtn').click(function(){                                                                                                                                                  \n"
			+"		var num = $(this).val();                                                                                                                                                    \n"
			+"		var content = $('#CommentBody').children().find('button[value='+num+']').parents('tr').children().find('textarea').val();                                                   \n"
			+"		$('#CommentBody').children().find('button[value='+num+']').parents('tr').children().find('textarea').attr('disabled',true).css('background','transparent');                 \n"
			+"		$.ajax({                                                                                                                                                                    \n"
			+"			url: '${pageContext.request.contextPath}/user/"+boardName+"/updateComment.do',                                                                                              \n"
			+"			data: \"comment_no=\"+num+\"&comment_content=\"+content,                                                                                                                \n"
			+"			type: 'POST',                                                                                                                                                           \n"
			+"			success: function(result){                                                                                                                                              \n"
			+"				$('#CommentBody').children().find('button[value='+num+']').parents('tr').children().find('textarea').attr('disabled',true).css('background','transparent');         \n"
			+"			 },                                                                                                                  \n"
			+"			 error : function(res){                                                                                              \n"
			+"				 alert(res.status);                                                                                              \n"
			+"			 }                                                                                                                   \n"
			+"		});                                                                                                                      \n"
			+"		$(this).hide();                                                                                                          \n"
			+"		$(this).siblings('.bfCBtn').show();                                                                                      \n"
			+"		                                                                                                                         \n"
			+"	});                                                                                                                          \n"
			+"	                                                                                                                             \n"
			+"	$('#recommend').click(function(){                                                                                            \n"
			+"		$('#recModal').modal();                                                                                                  \n"
			+"		$('#yes').click(function(){                                                                                              \n"
			+"			$.ajax({                                                                                                             \n"
			+"				url : '${pageContext.request.contextPath}/user/"+boardName+"/boardrecommend.do?bo_no=${viewInfo[0].BO_NO }',         \n"
			+"				type : 'POST',                                                                                                   \n"
			+"				dataType : 'json',                                                                                               \n"
			+"				success : function(data){                                                                                        \n"
			+"					alert(\"게시글을 추천하였습니다.\");                                                                         \n"
			+"					$('#recommend').attr('disabled','disabled');                                                                 \n"
			+"					$('#recModal').modal('hide');                                                                                \n"
			+"				},error : function(res){                                                                                         \n"
			+"					alert(res.status);                                                                                           \n"
			+"				}                                                                                                                \n"
			+"			});                                                                                                                  \n"
			+"		});                                                                                                                     \n"
			+"	   	                                                                                                                        \n"
			+"	});                                                                                                                         \n"
			+"	$('#black').click(function(){                                                                                               \n"
			+"		$('#blModal').modal();                                                                                                  \n"
			+"		$('#yes1').click(function(){                                                                                            \n"
			+"		if ($('input[name=reason]:checked').length== 0) {  \n"
			+"			alert('사유를 선택해 주세요.');  \n"
			+"			return;  \n"
			+"		}  \n"
			+"			var data = $('#sttemnt').serialize();                                                                               \n"
			+"			$.ajax({                                                                                                            \n"
			+"				url : '${pageContext.request.contextPath}/user/"+boardName+"/boardblack.do',                                        \n"
			+"				data : data,                                                                                                    \n"
			+"				success : function(result){                                                                                     \n"
			+"					alert(\"신고가 완료되었습니다.\");                                                                          \n"
			+"					$('#black').attr('disabled','disabled').text('이미 신고완료한 게시물입니다.');                              \n"
			+"					$('#blModal').modal('hide');                                                                                \n"
			+"				},                                                                                                              \n"
			+"				error : function(res){                                                                                          \n"
			+"					alert(res.status);                                                                                          \n"
			+"				}                                                                                                               \n"
			+"			});                                                                                                                 \n"
			+"		});                                                                                                                     \n"
			+"	   	                                                                                                                        \n"
			+"	});                                                                                                                         \n"
			+"	                                                                                                                            \n"
			+"});                                                                                                                           \n"
			+"function goModal(value){                                                                                                      \n"
			+"	var x = (screen.availWidth - 500) / 2;                                                                                      \n"
			+"	var y = (screen.availHeight - 400) / 2;                                                                                     \n"
			+"	var info = encodeURIComponent(value);                                                                                       \n"
			+"	var url = \"${pageContext.request.contextPath }/user/"+boardName+"/messageModal.do?id=\"+info;                                  \n"
			+"	var options = \"width = 500, height = 400, scrollbars = no left=\"+x+\", top=\"+y;                                          \n"
			+"	window.open(url, \"쪽지보내기\", options);                                                                                  \n"
			+"}                                                                                                                             \n"
			+"function goChatModal(value){                                                                                                  \n"
			+"	var x = (screen.availWidth - 500) / 2;                                                                                      \n"
			+"	var y = (screen.availHeight - 650) / 2;                                                                                     \n"
			+"	var info = encodeURIComponent(value);                                                                                       \n"
			+"	var url = \"${pageContext.request.contextPath }/user/"+boardName+"/chatModal.do?id=\"+info;                                     \n"
			+"	var options = \"width = 500, height = 650, scrollbars = no left=\"+x+\", top=\"+y;                                          \n"
			+"	window.open(url, \"채팅하기\", options);                                                                                    \n"
			+"}                                                                                                                             \n"
			+"function auto_size(fname,fsize){                                                                                              \n"
			+"	if (fsize == 100) {                                                                                                         \n"
			+"		return;		                                                                                                            \n"
			+"	}                                                                                                                           \n"
			+"	fname.size = fname.size+1;                                                                                                  \n"
			+"}                                                                                                                             \n"
			+"function delComment(comment_no){                                                                                              \n"
			+"	$.ajax({                                                                                                                    \n"
			+"		url : '${pageContext.request.contextPath}/user/"+boardName+"/delComment.do?comment_no='+comment_no,                         \n"
			+"		success : function(data){                                                                                               \n"
			+"			$('#CommentBody').children().find('button[value='+comment_no+']').parents('tr').empty();                            \n"
			+"		},                                                                                                                      \n"
			+"		error : function(res){                                                                                                  \n"
			+"			alert(res.status);                                                                                                  \n"
			+"		}                                                                                                                       \n"
			+"	});                                                                                                                         \n"
			+"	                                                                                                                            \n"
			+"};                                                                                                                            \n"
			+"function deleteFile(value){                                                                                                   \n"
			+"	$.ajax({                                                                                                                    \n"
			+"		url : '${pageContext.request.contextPath}/user/"+boardName+"/deleteFile.do?file_no='+value,                                 \n"
			+"		success : function(data){                                                                                               \n"
			+"		 	$('.show').children().find('button[value='+value+']').parents('tr').empty();                                        \n"
			+"		 	$('div[id='+value+']').remove();                                                                                    \n"
			+"			alert(\"해당 사진이 삭제되었습니다.\");                                                                             \n"
			+"		},                                                                                                                      \n"
			+"		error : function(res){                                                                                                  \n"
			+"			alert(res.status);                                                                                                  \n"
			+"		}                                                                                                                       \n"
			+"	});                                                                                                                         \n"
			+"};                                                                                                                            \n"
			+"     </script>                                                                                                                \n"
			+"</html>                                                                                                                       \n"
            +"                                                                                                                              \n"
			     
				);                                                                                                               
		writer.flush();
		writer.close();
	};
	public void listMaker(String boardName,String boardKrName, String boardCode) throws Exception{
		File createFolder = new File(JSP_PATH+boardName);
		createFolder.mkdir();
		File sourceFile = new File(createFolder.getPath() +"//"+ boardName + "List.jsp");
		FileWriter writer = new FileWriter(sourceFile);
		writer.write(                                                                                                                
			 "<%@ page language=\"JAVA\" contentType=\"text/html; charset=UTF-8\"                                                    \n"
			+"pageEncoding=\"UTF-8\"%>                                                                                               \n"
			+"<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>                                                    \n"
			+"<!DOCTYPE html>                                                                                                        \n"
			+"<html>                                                                                                                 \n"
			+"<style>                                                                                                                \n"
			+".layer{ position:relative; top:50%; left:40%; width:300px; height:100px; margin:-50px 0 0 -50px; }                     \n"
			+"input{background-color:transparent;border:0}                                                                           \n"
			+".sorting{text-align: center;}                                                                                          \n"
			+"</style>                                                                                                               \n"
			+"<script type=\"text/javascript\">                                                                                      \n"
			+"$(function(){                                                                                                          \n"
			+"	if (eval('${!empty param.message}')) {                                                                               \n"
			+"		alert('${param.message}');                                                                                       \n"
			+"	}                                                                                                                    \n"
			+"	                                                                                                                     \n"
			+"	$('#insertBtn').click(function(){                                                                                    \n"
			+"		$(location).attr('href','${pageContext.request.contextPath}/user/"+boardName+"/"+boardName+"Form.do?board_code="+boardCode+"'); \n"
			+"	});                                                                                                                                      \n"
			+"	                                                                                                                                         \n"
			+"	                                                                                                                                         \n"
			+"});                                                                                                                                        \n"
			+"function goModal(value){                                                                                                                   \n"
			+"	var x = (screen.availWidth - 500) / 2;                                                                                                   \n"
			+"	var y = (screen.availHeight - 400) / 2;                                                                                                  \n"
			+"	var info = encodeURIComponent(value);                                                                                                    \n"
			+"	var url = \"${pageContext.request.contextPath }/user/"+boardName+"/messageModal.do?id=\"+info;                                               \n"
			+"	var options = \"width = 500, height = 400, scrollbars = no left=\"+x+\", top=\"+y;                                                       \n"
			+"	                                                                                                                                         \n"
			+"	window.open(url, \"쪽지보내기\", options);                                                                                               \n"
			+"		                                                                                                                                     \n"
			+"}                                                                                                                                          \n"
			+"function goChatModal(value){                                                                                                               \n"
			+"	var x = (screen.availWidth - 500) / 2;                                                                                                   \n"
			+"	var y = (screen.availHeight - 650) / 2;                                                                                                  \n"
			+"	var info = encodeURIComponent(value);                                                                                                    \n"
			+"	var url = \"${pageContext.request.contextPath }/user/"+boardName+"/chatModal.do?id=\"+info;                                                  \n"
			+"	var options = \"width = 500, height = 650, scrollbars = no left=\"+x+\", top=\"+y;                                                       \n"
			+"	window.open(url, \"채팅하기\", options);                                                                                                 \n"
			+"}                                                                                                                                          \n"
			+"</script>                                                                                                                                  \n"
			+"<body>                                                                                                                                     \n"
			+" <!-- Main content -->                                                                                                                     \n"
			+"	<section class=\"content\">                                                                                                              \n"
			+"		<div class=\"row\">                                                                                                                  \n"
			+"			<div class=\"col-md-12\">                                                                                                        \n"
            +"                                                                                                                                           \n"
			+"				<br>                                                                                                                         \n"
			+"				<hr>                                                                                                                         \n"
			+"				<div class=\"box\" id=\"boardMgr\">                                                                                          \n"
			+"					<div class=\"box-header\">                                                                                               \n"
			+"						<h3 class=\"box-title text-green\">"+boardKrName+"</h3>                                                   \n"
			+"					</div>                                                                                                                   \n"
            +"                                                                                                                                           \n"
			+"					<!-- /.box-header -->                                                                                                    \n"
			+"					<div class=\"box-body\">                                                                                                 \n"
            +"                                                                                                                                           \n"
            +"                                                                                                                                           \n"
			+"						<div id=\"example1_wrapper\"                                                                                         \n"
			+"							class=\"dataTables_wrapper form-inline dt-bootstrap\">                                                           \n"
			+"							<div class=\"row\">                                                                                              \n"
			+"								<div class=\"col-sm-12\">                                                                                    \n"
			+"									<form action=\"${pageContext.request.contextPath }/user/"+boardName+"/"+boardName+"List.do\" method=\"post\">    \n"
			+"										<div class=\"dropdown\">                                                                             \n"
			+"											<select name=\"search\" class=\"form-control\">                                                  \n"
			+"												<option value=\"TOTAL\">전체</option>                                                        \n"
			+"												<option value=\"TITLE\">제목</option>                                                        \n"
			+"												<option value=\"CONTENT\">내용</option>                                                      \n"
			+"												<option value=\"WRITER\">작성자</option>                                                     \n"
			+"											</select> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input name=\"keyword\"                                 \n"
			+"												type=\"search\" class=\"form-control input-md\"                                              \n"
			+"												style=\"width: 300px;\" placeholder=\"검색어를 입력하세요..\"                                \n"
			+"												aria-controls=\"example1\">                                                                  \n"
			+"											&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                   \n"
			+"											<button id=\"searchBtn\" class=\"btn btn-primary btn-md\"                                        \n"
			+"												type=\"submit\">검색</button>                                                                \n"
			+"										</div>                                                                                               \n"
			+"									</form>                                                                                                  \n"
			+"									<br>                                                                                                     \n"
			+"									<form id=\"delForm\" method=\"post\"                                                                     \n"
			+"										action=\"/AIFishDr/admin/board/deleteWrite.do\">                                                     \n"
			+"										<table id=\"example1\"                                                                               \n"
			+"											class=\"table table-bordered table-striped dataTable\"                                           \n"
			+"											role=\"grid\" aria-describedby=\"example1_info\">                                                \n"
			+"											<thead>                                                                                          \n"
			+"												<tr role=\"row\">                                                                             \n"
			+"													<th class=\"sorting\" tabindex=\"0\" rowspan=\"1\"                                        \n"
			+"														colspan=\"1\" style=\"width: 40px;\"><p class=\"text-green\">No.</p></th>             \n"
			+"													<th class=\"sorting\" tabindex=\"0\" rowspan=\"1\" colspan=\"1\"                          \n"
			+"														style=\"width: 500px;\"><p class=\"text-green\">제목</p>                              \n"
			+"														</th>                                                                                 \n"
			+"													<th class=\"sorting\" tabindex=\"0\" rowspan=\"1\" colspan=\"1\"                          \n"
			+"														style=\"width: 50px;\"><p class=\"text-green\">글쓴이</p></th>                        \n"
			+"													<th class=\"sorting\" tabindex=\"0\" rowspan=\"1\" colspan=\"1\"                          \n"
			+"														style=\"width: 70px;\"><p class=\"text-green\">작성일</p></th>                        \n"
			+"													<th class=\"sorting\" tabindex=\"0\" rowspan=\"1\" colspan=\"1\"                          \n"
			+"														style=\"width: 30px;\"><p class=\"text-green\">조회</p></th>                          \n"
			+"													<th class=\"sorting\" tabindex=\"0\" rowspan=\"1\" colspan=\"1\"                          \n"
			+"														style=\"width: 30px;\"><p class=\"text-green\">추천</p></th>                          \n"
			+"												</tr>                                                                                         \n"
			+"											<c:forEach items=\"${noticeList}\" var=\"list\">\n"
			+"											<c:if test=\"${list.MEM_ID == 'admin' }\">\n"
			+"											<tr style=\"background-color: lightgrey;\" role=\"row\" class=\"odd\">\n"
			+"												<td class=\"sorting\"><p class=\"text-red\">공지</p></td>\n"
			+"												<td><a href=\"${pageContext.request.contextPath}/user/"+boardName+"/"+boardName+"View.do?bo_no=${list.BO_NO }&currentPage=${currentPage}"
			+"												&search=${search}&keyword=${keyword}\"><span style=\"color: red\">"
			+"												${list.BO_TITLE }</span></a></td>\n"
			+"												<td class=\"sorting\">\n"
			+"												<div class=\"dropdown\">\n"
			+"													<a href=\"#\" class=\" dropdown-toggle\" data-toggle=\"dropdown\">\n"
			+"													${list.MEM_NICKNAME }	</a><img src=\"https://cafe.pstatic.net/levelicon/1/1_1.gif\" width=\"11\" height=\"11\">\n"
			+"													<ul class=\"dropdown-menu\">   \n"
			+"													<c:if test=\"${LOGIN_MEMBER.mem_id !=list.MEM_ID }\">\n"
			+"														<li><a href=\"#\"><span onclick=\"goChatModal('${list.MEM_NICKNAME }(${list.MEM_ID})');\">1:1 채팅하기</span></a></li>\n"
			+"														<li><a href=\"#\"><span onclick=\"goModal('${list.MEM_NICKNAME }(${list.MEM_ID})');\">쪽지보내기</span></a></li>\n"
			+"													</c:if>	 \n"
			+"														<li><a href=\"${pageContext.request.contextPath }/user/fishgram/fishgramYouList.do?mem_id=${list.MEM_ID}\">블로그가기</a></li>\n"
			+"													</ul>\n"
			+"												</div>\n"
			+"												</td>\n"
			+"												<td class=\"sorting\">${list.BO_REG_DATE }</td>\n"
			+"												<td class=\"sorting\">${list.BO_HIT }</td>\n"
			+"												<td class=\"sorting\">${list.BO_GOOD_HIT }</td>\n"
			+"											</tr>\n"
			+"											</c:if>\n"
			+"											</c:forEach>\n"
			+"											</thead>                                                                                          \n"
			+"											<tbody id=\"boardTable\">                                                                         \n"
			+"											<c:forEach items=\"${writeList}\" var=\"list\">                                                   \n"
			+"												<tr role=\"row\" class=\"odd\">                                                               \n"
			+"													<td class=\"sorting\">${list.RNUM }</td>                                                  \n"
			+"													<td><a  href=\"${pageContext.request.contextPath}/user/"+boardName+"/"+boardName+"View.do?bo_no=${list.BO_NO }&currentPage=${currentPage}" 
			+"													&search=${search}&keyword=${keyword}\">                                                                                              \n"
			+"													${list.BO_TITLE }</a></td>                                                                                                           \n"
			+"													<td class=\"sorting\">                                                                                                               \n"
			+"													<div class=\"dropdown\">                                                                                                             \n"
			+"														<a href=\"#\" class=\" dropdown-toggle\" data-toggle=\"dropdown\">                                                               \n"
			+"														${list.MEM_NICKNAME }	</a><img src=\"https://cafe.pstatic.net/levelicon/1/1_1.gif\" width=\"11\" height=\"11\">                \n"
			+"														<ul class=\"dropdown-menu\">                                                                                                     \n"
			+"														<c:if test=\"${LOGIN_MEMBER.mem_id !=list.MEM_ID }\">                                                                            \n"
			+"															<li><a href=\"#\"><span onclick=\"goChatModal('${list.MEM_NICKNAME }(${list.MEM_ID})');\">1:1 채팅하기</span></a></li>       \n"
			+"															<li><a href=\"#\"><span onclick=\"goModal('${list.MEM_NICKNAME }(${list.MEM_ID})');\">쪽지보내기</span></a></li>             \n"
			+"														</c:if>	                                                                                                                         \n"
			+"															<li><a href=\"${pageContext.request.contextPath }/user/fishgram/fishgramYouList.do?mem_id=${list.MEM_ID}\">블로그가기</a></li> \n"
			+"														</ul>                                                                                                                            \n"
			+"													</div>                                                                            \n"
			+"													</td>                                                                             \n"
			+"													<td class=\"sorting\">${list.BO_REG_DATE }</td>                                   \n"
			+"													<td class=\"sorting\">${list.BO_HIT }</td>                                        \n"
			+"													<td class=\"sorting\">${list.BO_GOOD_HIT }</td>                                   \n"
			+"												</tr>                                                                                 \n"
			+"											</c:forEach>                                                                              \n"
			+"											</tbody>                                                                                  \n"
			+"										</table>                                                                                      \n"
			+"									</form>                                                                                           \n"
			+"									<br>                                                                                              \n"
			+"									<div class=\"layer\">                                                                             \n"
			+"										${paging }                                                                                    \n"
			+"									</div>                                                                                            \n"
			+"							<button id=\"insertBtn\" type=\"button\"                                                                  \n"
			+"								style=\"width: 140px; margin-right: 10px;\"                                                           \n"
			+"								class=\"btn btn-info btn-sm pull-right\">글쓰기</button>                                              \n"
			+"				</div>                           \n" 
			+"			</div>                               \n" 
			+"			<br>                                 \n" 
			+"		</div>                                   \n" 
			+"	</div>                                       \n" 
			+"	</div>                                       \n" 
			+"	</div>                                       \n" 
			+"	</div>                                       \n" 
			+"	</section>                                   \n" 
			+"	</div>                                       \n"     
			+"</body>                                                                                                                             \n"
			+"</html>		");                                                                                                               
		writer.flush();
		writer.close();
	};
	
	@Override
	public void xmlFileMaker(String boardName, String boardCode) throws Exception {
		// 생성할 게시판명 파라메터로 받기
		SAXBuilder sb = new SAXBuilder();
		Document readDoc = null;
		try {
			readDoc = sb.build(XML_PATH);
		} catch (JDOMException e1) {
			e1.printStackTrace();
		} catch (IOException e1) {
			e1.printStackTrace();
		}
		Element root = readDoc.getRootElement();
		// 여기서 test를 새로 생성되는 게시판명으로 바꾸면 sqlMapConfig 변경가능
//		List<Element> sqlMapList = root.getChildren("sqlMap");
//		boolean result = false;
//		for (Element element : sqlMapList) {
//			String compare = element.getAttribute("resource").getValue();
//			if (!compare.contains(boardName.intern())) {
//				result = true;
//			} else {
//				result = false;
//			}
//		}
//
//		if (result) {
//		}
		root.addContent(root.getChildren("sqlMapConfig")).addContent(
				new Element("sqlMap")
				.setAttribute("resource",
						"com/ai/fishdr/ibatis/mapper/" + boardName
						+ ".xml"));
		
		XMLOutputter xo = new XMLOutputter();
		Format fo = xo.getFormat();
		fo.setEncoding("UTF-8");
		fo.setIndent("    ");
		fo.setLineSeparator("\r\n");
		fo.setTextMode(Format.TextMode.TRIM);
		xo.setFormat(fo);
		try {
			// 덮어쓰기
			xo.output(readDoc, new FileOutputStream(XML_PATH));
		} catch (IOException e) {
			e.printStackTrace();
		}
		mapperMaker(boardName, boardCode);
	}
	public void mapperMaker(String boardName,String boardCode)throws Exception{

		File sourceFile = new File(MAPPER_PATH + boardName + ".xml");
		FileWriter writer = new FileWriter(sourceFile);

		writer.write(
				"<?xml version=\"1.0\" encoding=\"UTF-8\" ?>                                                        \n"
				+"<!DOCTYPE sqlMap                                                                                   \n"
				+"    PUBLIC \"-//ibatis.apache.org//DTD SQL Map 2.0//EN\"                                           \n"
				+"    \"http://ibatis.apache.org/dtd/sql-map-2.dtd\">                                                \n"
                +"                                                                                                   \n"
				+"<sqlMap namespace=\""+boardName+"\">                                                                   \n"
                +"                                                                                                   \n"
				+"	<typeAlias alias=\""+boardName+"VO\" type=\"com.ai.fishdr.vo.BoardVO\" />                            \n"
                +"                                                                                                   \n"
				+"	<sql id=\"selectAll\">                                                                           \n"
				+"			SELECT B.BO_NO                                                                           \n"
				+"				, B.BOARD_CODE                                                                      \n"
				+"				, B.BO_TITLE                                                                        \n"
				+"				, BO_CONTENT                                                                        \n"
				+"				,TO_CHAR(B.BO_REG_DATE,'YY/MM/DD HH24:MM') BO_REG_DATE                              \n"
				+"				,B.BO_WRITER                                                                        \n"
				+"				,B.BO_GOOD_HIT                                                                      \n"
				+"				,M.MEM_NICKNAME                                                                     \n"
				+"				,M.MEM_ID                                                                           \n"
				+"				,B.BO_HIT                                                                           \n"
				+"				,G.BOARD_NAME                                                                       \n"
				+"			FROM BOARD B, MEMBER M , BOARDMANAGE G                                                  \n"
				+"			WHERE B.BO_WRITER = M.MEM_ID                                                            \n"
				+"				AND B.BOARD_CODE = G.BOARD_CODE                                                     \n"
				+"        		AND B.BO_STATUS= 'y'                                                                \n"
				+"        		 AND M.MEM_ID !='admin'                                                                \n"
				+"                AND B.BOARD_CODE ='"+boardCode+"'                                                      \n"
				+"	</sql>                                                                                          \n"
                +"                                                                                                  \n"
				+"	<sql id=\"searchOption\">                                                                       \n"
				+"		<dynamic prepend=\"AND\">                                                                   \n"
				+"			<isNotEmpty property=\"keyword\">                                                       \n"
				+"						<isEqual property=\"search\" compareValue=\"TOTAL\" open=\"(\" close=\")\"> \n"
				+"							 B.BO_TITLE LIKE '%'||#keyword#||'%'                                    \n"
				+"							 OR B.BO_CONTENT LIKE '%'||#keyword#||'%'                               \n"
				+"							 OR M.MEM_NICKNAME LIKE '%'||#keyword#||'%'                             \n"
				+"						</isEqual>                                                                  \n"
				+"					</isNotEmpty>                                                                   \n"
				+"					<isNotEmpty  property=\"keyword\">                                              \n"
				+"						<isEqual property=\"search\" compareValue=\"TITLE\" >                       \n"
				+"							 B.BO_TITLE LIKE '%'||#keyword#||'%'                                    \n"
				+"						</isEqual>                                                                  \n"
				+"					</isNotEmpty>                                                                   \n"
				+"					<isNotEmpty  property=\"keyword\">                                              \n"
				+"						<isEqual property=\"search\" compareValue=\"CONTENT\" >                     \n"
				+"							 B.BO_CONTENT LIKE '%'||#keyword#||'%'                                  \n"
				+"						</isEqual>                                                                  \n"
				+"					</isNotEmpty>                                                                   \n"
				+"					<isNotEmpty  property=\"keyword\">                                              \n"
				+"						<isEqual property=\"search\" compareValue=\"WRITER\" >                      \n"
				+"							 M.MEM_NICKNAME LIKE '%'||#keyword#||'%'                                \n"
				+"						</isEqual>                                                                  \n"
				+"					</isNotEmpty>                                                                   \n"
				+"		</dynamic>                                                                                  \n"
				+"	</sql>                                                                                          \n"
				+"	                                                                                                \n"
				+"	<select id=\"getBoardList\" parameterClass=\"map\" resultClass=\"java.util.HashMap\">           \n"
				+" 		 SELECT C.*                                                                                 \n"
				+"				  FROM (SELECT ROWNUM RNUM, A.*                                                     \n"
				+"						  FROM (<include refid=\"selectAll\"/>                                      \n"
				+"						        <include refid=\"searchOption\"/>                                   \n"
				+"						  ORDER BY B.BO_NO       ) A) C                                             \n"
				+"				 <![CDATA[                                                                          \n"
				+"				 WHERE C.RNUM <= #startCount#                                                       \n"
				+"				 	AND C.RNUM >=#endCount#                                                         \n"
				+"				 	]]>                                                                             \n"
				+"				 ORDER BY C.RNUM DESC                                                               \n"
				+"	</select>                                                                                       \n"
				+"	                                                                                                \n"
				+"	<select id=\"getTotalCount\" parameterClass=\"map\" resultClass=\"int\">                        \n"
				+"		SELECT COUNT(B.BO_NO)                                                                       \n"
				+"			FROM BOARD B, MEMBER M                                                                  \n"
				+"			WHERE B.BO_WRITER = M.MEM_ID                                                            \n"
				+"                AND B.BOARD_CODE = '"+boardCode+"'                                                     \n"
				+"				AND B.BO_STATUS= 'y'                                                                \n"
				+"				AND M.MEM_ID != 'admin'                                                                \n"
				+"		<include refid=\"searchOption\"/>                                                           \n"
				+"	</select>                                                                                       \n"
				+"	                                                                                                \n"
				+"	<update id=\"updateBoard\" parameterClass=\""+boardName+"VO\">                                      \n"
				+"		UPDATE BOARD                                                                                \n"
				+"			SET  BO_TITLE = #bo_title#                                                              \n"
				+"			    ,BO_CONTENT = #bo_content#                                                          \n"
				+"			WHERE BO_NO = #bo_no#                                                                   \n"
				+"	</update>                                                                                       \n"
				+"	                                                                                                \n"
				+"	<update id=\"deleteBoard\" parameterClass=\"map\">                                              \n"
				+"		UPDATE BOARD                                                                                \n"
				+"		SET	BO_STATUS = 'n'                                                                         \n"
				+"		WHERE BO_NO = #bo_no#                                                                       \n"
				+"	</update>                                                                                       \n"
                +"                                                                                                  \n"
				+"	<insert id=\"insertBoard\" parameterClass=\"boardVO\">                                          \n"
				+"			<selectKey keyProperty=\"bo_no\" resultClass=\"String\">                                \n"
				+"				SELECT BOARD_SEQ.NEXTVAL FROM DUAL                                                  \n"
				+"			</selectKey>                                                                            \n"
				+"			INSERT INTO	BOARD                                                                       \n"
				+"				(BO_NO                                                                              \n"
				+"				,BOARD_CODE                                                                         \n"
				+"				,BO_TITLE                                                                           \n"
				+"				,BO_WRITER                                                                          \n"
				+"				,BO_CONTENT                                                                         \n"
				+"				)                                                                                   \n"
				+"				VALUES                                                                              \n"
				+"				(#bo_no#                                                                            \n"
				+"				,'"+boardCode+"'                                                                         \n"
				+"				,#bo_title#                                                                         \n"
				+"				,#bo_writer#                                                                        \n"
				+"				,#bo_content#                                                                       \n"
				+"				)                                                                                   \n"
				+"	</insert>                                                                                       \n"
				+"	                                                                                                \n"
				+"	<select id=\"getBoardInfo\" parameterClass=\"map\" resultClass=\"java.util.HashMap\">           \n"
				+"			SELECT B.* ,M.BOARD_NAME ,M.BOARD_FUNCTION, R.MEM_NICKNAME                              \n"
				+"	   			 FROM BOARD B, BOARDMANAGE M, MEMBER R                                              \n"
				+"				WHERE B.BOARD_CODE = M.BOARD_CODE                                                   \n"
				+"					 AND B.BO_WRITER = R.MEM_ID                                                     \n"
				+"	       			 AND B.BO_NO = #bo_no#                                                          \n"
				+"		                                                                                            \n"
				+"	</select>                                                                                       \n"
				+"	                                                                                                \n"
				+"	<update id=\"updateHit\" parameterClass=\"map\">                                                \n"
				+"		UPDATE BOARD                                                                                \n"
				+"			SET BO_HIT = BO_HIT+1                                                                   \n"
				+"			WHERE BO_NO = #bo_no#                                                                   \n"
				+"	</update>                                                                                       \n"
				+"	                                                                                                \n"
				+"	<update id=\"updateGoodHit\" parameterClass=\"String\">                                         \n"
				+"		UPDATE BOARD                                                                                \n"
				+"			SET  BO_GOOD_HIT = BO_GOOD_HIT+1                                                        \n"
				+"          WHERE BO_NO = #bo_no#			                                                        \n"
				+"	</update>                                                                                       \n"
				+"	<typeAlias alias=\"Sttemnt\" type=\"com.ai.fishdr.vo.SttemntVO\" />                             \n"
				+"	<insert id=\"insertBadHit\" parameterClass=\"Sttemnt\">                                         \n"
				+"		INSERT INTO STTEMNT                                                                         \n"
				+"			VALUES (                                                                                \n"
				+"			STTEMNT_SEQ.NEXTVAL                                                                     \n"
				+"			,#mem_id#                                                                               \n"
				+"			,#bo_no#                                                                                \n"
				+"			,#reason#                                                                               \n"
				+"			)                                                                                       \n"
				+"	</insert>                                                                                       \n"
				+"	<select id=\"getBlack\" parameterClass=\"map\" resultClass=\"int\">                             \n"
				+"		  SELECT  COUNT(S.MEM_ID)                                                                   \n"
				+"	 		 FROM BOARD B , STTEMNT S                                                               \n"
				+"			  WHERE B.BO_NO = S.BO_NO                                                               \n"
				+"	 		    AND B.BO_NO = #bo_no#                                                               \n"
				+"	  		   AND S.MEM_ID= #mem_id#                                                               \n"
				+"	</select>                                                                                       \n"
				+"	<select id=\"getAdminWriteList\" resultClass=\"java.util.HashMap\">                              \n"
				+"		SELECT B.BO_NO                                                                               \n"
				+"					, B.BOARD_CODE                                                                   \n"
				+"					, B.BO_TITLE                                                                     \n"
				+"					, BO_CONTENT                                                                     \n"
				+"					,TO_CHAR(B.BO_REG_DATE,'YY/MM/DD HH24:MI') BO_REG_DATE                           \n"
				+"					,B.BO_WRITER                                                                     \n"
				+"					,B.BO_GOOD_HIT                                                                   \n"
				+"					,M.MEM_NICKNAME                                                                  \n"
				+"					,M.MEM_ID                                                                        \n"
				+"					,B.BO_HIT                                                                        \n"
				+"					,G.BOARD_NAME                                                                    \n"
				+"				FROM BOARD B, MEMBER M , BOARDMANAGE G                                               \n"
				+"				WHERE B.BO_WRITER = M.MEM_ID                                                         \n"
				+"					AND B.BOARD_CODE = G.BOARD_CODE                                                  \n"
				+"	        		AND B.BO_STATUS= 'y'                                                              \n"
				+"	                AND B.BOARD_CODE ='"+boardCode+"'                                                      \n"
				+"	                AND M.MEM_ID ='admin'                                                             \n"
				+"	                ORDER BY BO_REG_DATE DESC                                                         \n"
				+"	</select>                                                                                         \n"   
                +"                                                                                                 \n"
				+"</sqlMap>");
		writer.flush();
		writer.close();
	}

}
